"use strict";!function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={0:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//s1.hdslb.com/bfs/static/jinkela/channel-2020/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([126,1]),n()}(Array(39).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"asserts/icon_television_gray.png"},function(e,t,n){e.exports=n.p+"asserts/empty.png"},,,,,,,,,,,,,function(e,t,n){e.exports=n(272)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg2NzU4NDQwNDcxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM3ODIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNODMyIDcyNC4zNTJBMzg0LjEyOCAzODQuMTI4IDAgMCAxIDEzMy4zMTIgNTc2SDE5OC40YTMyMC4xMjggMzIwLjEyOCAwIDAgMCA2MDYuOTc2IDY0SDU3NlY1NzZoMzIwdjMyMGgtNjR2LTE3MS42NDh6TTQ0OCA0NDhIMTI4VjEyOGg2NHYxNzEuNjQ4QTM4NC4xMjggMzg0LjEyOCAwIDAgMSA4OTAuNjg4IDQ0OEg4MjUuNmEzMjAuMTI4IDMyMC4xMjggMCAwIDAtNjA2Ljk3Ni02NEg0NDh2NjR6IiBwLWlkPSIzNzgzIiBmaWxsPSIjNTA1MDUwIj48L3BhdGg+PC9zdmc+"},function(e,t,n){var a=n(39);n.n(a).a},function(e,t,n){var a=n(40);n.n(a).a},function(e,t,n){var a=n(41);n.n(a).a},function(e,t,n){var a=n(42);n.n(a).a},function(e,t,n){var a=n(43);n.n(a).a},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACh0lEQVR4Xu2aPWgUQRTHf//Kxl4RBRttBA1oo7Vgk5SmEEwpirWN2NlaWMWP0iSNdtFCVLDwo1JQCYgoaGECgp1prJ4M3MLcZnO7ub14s/tm4Zq7N3vv/5s3b97sPuH8knP9ZAA5ApwTyEvAeQDkJNhoCZjZHmAeOD74nAD2JRY9G8B74CPwGViVtFnnYy0AMzsCLAJn626W2O8fgKuS3o7yayQAM5sFHicmbKfuXJF0d7tB2wIws8vAnZ3+W6L2c5KeVPlWCcDMzgBvKgbcB14DryT9SEmsmR0ETgNzwMUK345K+lr+fgsAM9sbBAIzJeNTkkKSSf4ys/PAw5KjL4BZSX/j76sAXABWSoPnJT1KXnnkoJmdBN6VfF6QtFQH4CZwIzJakrTQJfGFr2Z2D7gU+X5L0rU6AKuDdVTYdW72IwAhFzyIBD+TdK4OwDpwIDI6JOlnRyPgMPA98v2XpP11AGzIQKotllKGY2Yj9VQlwQwgR0BEQHkJ5BzQKgkOqrLbQCidQ3W2Iun3/0qcU0+CZrYGHIsEh3P78gDEp90GkQKAoV2lJLgA8XS3QKQOoND9MoqKocNKWzBdAVDo/BKBiCu4sTl0DUAh9E8Eouq5RGMgXQUQCwyHs+Vxj+N9AFDACGf765KeN55+oE8Agu5vksJT6sZXBjDt02B5BhpP3VZDt0vAZRJ0uw26LYTclsIuDkPuj8PhNZXfByIt9v2JDJ16JTgRFS1ukgFMuxRuMXkTGZojYIwIcP9y1P3rcfcNEu5bZHw3SYW9x3WbXLH5um6UjCD4bZWNIPhtlo4g+G2Xn0hBnvBNWnV/JKyrsWsZQGNUPTXMEdDTiW0sK0dAY1Q9NfwHTiEEX/VJ+tMAAAAASUVORK5CYII="},function(e,t,n){e.exports=n.p+"asserts/icon_video_dianzanshu.png"},function(e,t,n){var a=n(44);n.n(a).a},function(e,t,n){var a=n(45);n.n(a).a},function(e,t,n){var a=n(46);n.n(a).a},function(e,t,n){var a=n(47);n.n(a).a},function(e,t,n){var a=n(48);n.n(a).a},function(e,t,n){var a=n(49);n.n(a).a},function(e,t,n){var a=n(50);n.n(a).a},function(e,t,n){var a=n(51);n.n(a).a},function(e,t,n){e.exports=n.p+"asserts/icon_television.png"},function(e,t,n){var a=n(52);n.n(a).a},function(e,t,n){var a=n(53);n.n(a).a},function(e,t,n){var a=n(54);n.n(a).a},function(e,t,n){var a=n(55);n.n(a).a},function(e,t,n){var a=n(56);n.n(a).a},function(e,t,n){var a=n(57);n.n(a).a},function(e,t,n){var a=n(58);n.n(a).a},function(e,t,n){var a=n(59);n.n(a).a},function(e,t,n){var a=n(60);n.n(a).a},function(e,t,n){e.exports=n.p+"asserts/rank-tag-1.png"},function(e,t,n){e.exports=n.p+"asserts/rank-tag-2.png"},function(e,t,n){e.exports=n.p+"asserts/rank-tag-3.png"},function(e,t,n){e.exports=n.p+"asserts/rank-tags.png"},function(e,t,n){var a={"rank-line-1-170.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-1-170.png*/:249,"rank-line-2-170.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-2-170.png*/:250,"rank-line-3-170.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-3-170.png*/:251};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=248},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAECAYAAAAeYKQcAAAAAXNSR0IArs4c6QAAAGBJREFUSA1j/H/O3pPh7/9ZDAz/ZRhGwWgIDLoQYHzCwMyYxvj/tN3j0UQ66GJn1EEoIcD4hIWBiWErAyt7F6PennsocqOc0RAYBCHw/5KLEsPvX2WDwCmjThgNAcIhAAAudhP/PP7oQAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAECAYAAAAeYKQcAAAAAXNSR0IArs4c6QAAAGBJREFUSA1jXH/kjuf/v/9mMTD8l2EYBaMhMOhCgPEJIzNTGuO6g7cejybSQRc7ow5CCQHGJywMTAxb2RgYu3xs1e6hyI1yRkNgEITAlsO3lH4xMJQNAqeMOmE0BAiHAABC7xSDjTNMDwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAECAYAAAAeYKQcAAAAAXNSR0IArs4c6QAAAF5JREFUSA1jvLp3ief/v/9mMTD8l2EYBaMhMOhCgPEJIzNTGtNoIh10MTPqIJQQ+C8DSqMsjAz/t7IysXSpuUTfQ5Ef5YyGwCAIgVt7lir9/venbBA4ZdQJoyFAOAQAlXAbmrNTN/IAAAAASUVORK5CYII="},function(e,t,n){var a={"rank-line-1-206.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-1-206.png*/:253,"rank-line-2-206.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-2-206.png*/:254,"rank-line-3-206.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/rank-line-3-206.png*/:255};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=252},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZwAAAAICAYAAADNwUnYAAAAAXNSR0IArs4c6QAAAPdJREFUaAXt2aEKwlAUxvFztimIIGgTjGZXzDIw+ioGkw9hUfBZrGMPoGF228CmyaCyXe+0bjDYguF/4733fOFXPu6mYpeJg5G8042IBmLMMN9jIYAAAgggUEtA9WobJpKWu1Y/SvRbNq80tqGDWsEMI4AAAgggUCxwk7brO7+XDWVTbMQuAggggEADAoO8a5zvZ7QG0ohAAAEEEECgXEADzx52bOkk4pqVeL1QJ4d7+QAnCCCAAAIIVBMw50Vfno+5SLa1/3K6ao6znYi312l4qRbBLQQQQAABBKoLmFMwFpMtq09wEwEEEEAAAQQQQAABBBD4d4EPpAAtcyoNEAAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAECAYAAADGbAAWAAAAAXNSR0IArs4c6QAAAGdJREFUSA1jXH/kjuf/v/9mMTD8l2EYBaMhMBoCBEKA8QkjM1Ma47qDtx6PZhoCYTUqPRoCKCHA+ISFgYlhKxsDY5ePrdo9FLlRzmgIjIYARghsOXxL6RcDQxmGxKjAaAiMhgDhEAAAgK8Ug8p3aREAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAECAYAAADGbAAWAAAAAXNSR0IArs4c6QAAAGVJREFUSA1jvLp3ief/v/9mMTD8l2EYBaMhMBoCBEKA8QkjM1Ma02imIRBOo9KjIYASAv9lQHmGhZHh/1ZWJpYuNZfoeyjyo5zREBgNAYwQuLVnqdLvf3/KMCRGBUZDYDQECIcAANuZG5ow6bHZAAAAAElFTkSuQmCC"},function(e,t,n){var a=n(61);n.n(a).a},function(e,t,n){var a=n(62);n.n(a).a},function(e,t,n){var a=n(63);n.n(a).a},function(e,t,n){var a=n(64);n.n(a).a},function(e,t,n){var a=n(65);n.n(a).a},function(e,t,n){},,function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg2NzYxMTg5Nzg2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQwMjgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNjg0Ljk5MiA2ODQuOTkyYTM2My43NzYgMzYzLjc3NiAwIDEgMS01MTQuNDMyLTUxNC40MzIgMzYzLjc3NiAzNjMuNzc2IDAgMCAxIDUxNC40MzIgNTE0LjQzMnogbS04NS43Ni04NS43NmEyNDIuNTYgMjQyLjU2IDAgMSAwLTM0Mi45MTItMzQyLjkxMiAyNDIuNTYgMjQyLjU2IDAgMCAwIDM0Mi45NzYgMzQyLjk3NnogbTAgMGMyMy42OC0yMy42OCA2Mi4wOC0yMy42OCA4NS43NiAwbDI1Ny4yOCAyNTcuMjhhNjAuNjA4IDYwLjYwOCAwIDAgMS04NS43NiA4NS43NmwtMjU3LjI4LTI1Ny4yOGE2MC42MDggNjAuNjA4IDAgMCAxIDAtODUuNzZ6IiBwLWlkPSI0MDI5IiBmaWxsPSIjQzBDMEMwIj48L3BhdGg+PC9zdmc+"},function(e,t,n){var a=n(66);n.n(a).a},function(e,t,n){var a=n(67);n.n(a).a},function(e,t,n){var a=n(68);n.n(a).a},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAYZJREFUWAntmFFqwzAMhuuxq/QaeS+7QR9DjzXytO0Ag7XvucAO0MOk0rCGMZbdWH/YCgoE27IlffzIwfFu548r4Aq4Aq7AXyoQtOTLsoR5no80v9fWbGS/DsPwEUJYSvGfS0a2MSxBv2nzW9opN4d/L+V4Khn/s+3hSkIF7lU51v6B/akWL1ot9saHlkSEfaX2i1+qRe5DRYEFS2DHVD1SeCKlTyilIcAarIAjoc3ALVg0tKmGS7Ck5ncC+duntSOipruBFdiJYD8FmPtcDjJGQHcBa7C8uQRO2rjhYNCrgWuwpS8B25DQq4DXworKSOi7gXth0dB3AVthkdBNYBQsCroJTN/OA0GPScIpbqLiAVvW1dpKTf8cmmq+TeDUmRKZYSVeCVrmam0TmNTkI+ILv1Zlc5AEWuJf8jX5WP1FkoUclPpnGaPbtfGbCqMBrfEc2Kpgy98VbilknXeFrQq2/LdQ+JokTfuJub9r/gnNU8fDEl8i8kWKeqmX+/nYFXAFXAGMAjce2T47stfdXwAAAABJRU5ErkJggg=="},function(e,t,n){var a=n(69);n.n(a).a},function(e,t,n){var a=n(70);n.n(a).a},function(e,t,n){var a=n(71);n.n(a).a},function(e,t,n){var a=n(72);n.n(a).a},function(e,t,n){n.r(t);var a={};n.r(a),n.d(a,"getFeaturedByIdx",(function(){return W})),n.d(a,"getMultipleByIdx",(function(){return Q})),n.d(a,"getCategoryList",(function(){return Y})),n.d(a,"getSearchResult",(function(){return G}));n(127);var i=n(114),r=n.n(i),o=(n(130),n(131),n(115)),s=n.n(o),c=(n(147),n(116)),l=n.n(c),u=n(117),d=n.n(u),f=n(118),p=n.n(f),v=(n(208),n(119)),h=n.n(v),y=(n(209),n(120)),g=n.n(y),b=(n(210),n(121)),m=n.n(b),_=n(122),C=n.n(_),w=n(0);w.a.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var k=n(9),O=n(123),j=(n(211),n(124)),A=n(18),R={SET_USER_DATA:function(e,t){e.user=t},SET_SCREEN_SIZE:function(e,t){e.screenSize=t},SET_MY_CHANNEL_LIST:function(e,t){var n;e.myChannelData=t,e.subscribeTotal=null==t||null===(n=t.filter((function(e){return 2===e.ctype})))||void 0===n?void 0:n.length},SET_CATEGORY_LIST:function(e,t){e.categoryList=t},SET_HOT_LIST:function(e,t){e.hotList=t},SET_VIEWED_DATA:function(e,t){e.viewedData={list:t.list,total:t.total,loaded:t.loaded}}},S={},L=n(2),x=n.n(L),D=n(1),P=n.n(D),I=n(74),T=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},M=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function e(){x()(this,e),this.isLogin=null,this.mid=0};T([Object(I.a)(),M("design:type",Object)],N.prototype,"isLogin",void 0),T([Object(I.a)(),M("design:type",Object)],N.prototype,"mid",void 0),N=T([Object(I.b)()],N);var E=function(){return{user:new N,screenSize:null,myChannelData:[],subscribeTotal:0,categoryList:[],hotList:[],viewedData:{list:[],total:0,loaded:!1}}},B=n(31),z=n.n(B),F=n(17),$=n.n(F).a.create({withCredentials:!0});$.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),$.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var H=$,W=function(e){var t=e.channel_id,n=e.sort,a=e._extra,i={channel_id:t,filter_type:n,offset:a?a.offset:null,page_size:30};return new Promise((function(e,t){H.get("//api.bilibili.com/x/web-interface/web/channel/featured/list",{params:i}).then((function(n){var a,i=n.data;0===i.code?e({result:null==i||null===(a=i.data)||void 0===a?void 0:a.list,no_more:!i.data.has_more,extra:{offset:i.data.offset}}):t({code:i.code,message:i.message})})).catch(t)}))},Q=function(e){var t=e.channel_id,n=e.sort,a=e._extra,i={channel_id:t,sort_type:n,offset:a?a.offset:null,page_size:30};return new Promise((function(e,t){H.get("//api.bilibili.com/x/web-interface/web/channel/multiple/list",{params:i}).then((function(n){var a=n.data;0===a.code?e({result:a.data.list,no_more:!a.data.has_more,extra:{offset:a.data.offset}}):t({code:a.code,message:a.message})})).catch(t)}))},Y=function(e){var t=e._extra,n={id:e.id,offset:t?t.offset:null};return new Promise((function(t,a){H.get("//api.bilibili.com/x/web-interface/web/channel/category/channel_arc/list",{params:n}).then((function(n){var i=n.data;if(0===i.code){var r=i.data.archive_channels.map((function(t){return t.cid=e.id,t}));t({result:r,no_more:!i.data.has_more,extra:{offset:i.data.offset,total:i.data.total}})}else a({code:i.code,message:i.message})})).catch(a)}))},U=n(32),V=n.n(U),G=function(e){var t={keyword:e.keyword.slice(0,32),page_size:e.page_size,page:e.page};return new Promise((function(e,n){H.get("//api.bilibili.com/x/web-interface/web/channel/search",{params:t}).then((function(t){var a,i,r,o,s,c,l=t.data;if(0===l.code){var u=[].concat(V()(l.data.archive_channels),[{type:l.data.ext_type,items:(null===(a=l.data)||void 0===a?void 0:a.ext_channels)||[]}]);e({result:u,total:l.data.total,no_more:(null==l||null===(i=l.data)||void 0===i||null===(r=i.archive_channels)||void 0===r?void 0:r.length)<10||!(null==l||null===(o=l.data)||void 0===o?void 0:o.archive_channels.length),extra:{page:l.data.pages,ext_channels:null==l||null===(s=l.data)||void 0===s?void 0:s.ext_channels,ext_type:null==l||null===(c=l.data)||void 0===c?void 0:c.ext_type}})}else n({code:l.code,message:l.message})})).catch(n)}))};k.default.use(A.a);var J,q,K=function(){return new A.a.Store({state:E,mutations:R,actions:S,modules:{flow:z.a.FlowStore(a,{max:2})}})},Z=n(90),X=n(8),ee=n.n(X),te=n(11),ne=n.n(te),ae=n(3),ie=n.n(ae),re=n(4),oe=n.n(re),se=n(5),ce=n.n(se),le=n(6),ue=n.n(le),de=function(){function e(){x()(this,e)}var t;return ie()(e,null,[{key:"getHotList",value:(t=ne()(ee.a.mark((function e(t){var n,a,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface/web/channel/category/channel/list",params:{id:100,offset:t,page_size:100}});case 3:return a=e.sent,i=a.data,n.code=i.code,n.message=i.message,n.data=i.data.channels.map((function(e,t){return e.page=t+1,e})),0===i.code&&(n.data=null==i?void 0:i.data),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),fe=n(10);!function(e){e[e.Large=12]="Large",e[e.Medium=10]="Medium",e[e.Small=5]="Small"}(J||(J={})),function(e){e[e.Large=1296]="Large",e[e.Medium=1080]="Medium",e[e.Small=900]="Small"}(q||(q={}));var pe=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ve=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"goChannelPage",value:function(e,t,n,a){for(var i={search:a?"featured":"multiple",discovery:"multiple",category:"multiple",subscribe:"multiple"},r=["Android","iPhone","SymbianOS","Windows Phone","iPod","biliapp"],o=0;o<r.length;o++)if(navigator.userAgent.indexOf(r[o])>-1)return void(location.href="../../../../../www.bilibili.com/h5/channel/index.htm"/*tpa=https://www.bilibili.com/h5/channel/*/.concat(e,"?from=pc"));e.toString()!==this.$route.params.id&&this.$router.push({name:"Detail",params:{id:e.toString()},query:Object.assign({},this.$route.query,{tab:t?i[t]:"multiple",cid:n})}).catch((function(e){}))}}]),t}(w.e),he=ve=pe([w.a],ve),ye=n(73),ge=n.n(ye);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach((function(t){ge()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"formatSubscribeCount",value:function(e){return e?e>=1e4&&e<1e8?parseFloat(Number(e/1e4).toFixed(1))+"万":e>=1e8?parseFloat(Number(e/1e8).toFixed(1))+"亿":e.toString():"0"}}]),e}(),Ce=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"throttle",value:function(e,t){var n;return function(){var a=arguments,i=this;n||(n=!0,e.apply(i,a),setTimeout((function(){return n=!1}),t))}}}]),e}(),we=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"reportMsg",value:function(e){if(window){window.reportMsgObj||(window.reportMsgObj={});for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i="object"===P()(n[0])?me({},n[0]):{value:n.join(",")};i.re_src=window.__REPORT_SRC__,i.value||delete i.value,window.reportMsgObj[e]=i,window.reportObserver&&window.reportObserver.forceCommit&&window.reportObserver.forceCommit()}}}]),e}(),ke=function(e){return e?e.replace(/^https?:/g,""):""},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var n=e.getBoundingClientRect();return n.top<window.innerHeight+t&&n.bottom+t>0&&n.left<window.innerWidth+t&&n.right+t>0},je=function(e){var t=e;if(!t)return null;for(;t&&"HTML"!==t.tagName&&"BOYD"!==t.tagName&&1===t.nodeType;){var n=window.getComputedStyle(t).overflowY;if("scroll"===n||"auto"===n)return"HTML"===t.tagName||"BODY"===t.tagName?document:t;t=t.parentNode}return document},Ae=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Re=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Se=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).channelList=[],e.channelPool=[],e.offset=0,e.lastIndex=0,e}var n;return ue()(t,e),ie()(t,[{key:"changeData",value:function(){this.offset++;var e=J[this.screenSize];this.lastIndex+e>=this.channelPool.length?(this.channelList=this.sliceChannel(!0,this.lastIndex),this.lastIndex=e-(this.channelPool.length-this.lastIndex),this.offset=0):(this.channelList=this.sliceChannel(!1,this.lastIndex,this.lastIndex+12),this.lastIndex=this.lastIndex+J[this.screenSize]),we.reportMsg("hot-channel-list-change",this.offset)}},{key:"sliceChannel",value:function(e,t,n){if(e){var a=12-(this.channelPool.length-t);return[].concat(V()(this.channelPool.slice(t,this.channelPool.length)),V()(this.channelPool.slice(0,a)))}return this.channelPool.slice(t,n)}},{key:"hanlde",value:function(e,t){if(e&&t){var n=J[e],a=J[t];if(n>a)return void(this.lastIndex=this.lastIndex+(n-a));this.lastIndex=this.lastIndex-(a-n)}}},{key:"handleShow",value:function(){we.reportMsg("hot_channel_pannel_show")}},{key:"initFirstPage",value:function(){this.lastIndex=J[this.screenSize],this.channelList=this.channelPool.slice(0,12)}},{key:"loadHotList",value:(n=ne()(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.getHotList(this.offset);case 3:n=e.sent,this.channelPool=(null==n||null===(t=n.data)||void 0===t?void 0:t.channels)||[],this.setHotList(this.channelPool),this.initFirstPage(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.channelPool=[];case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:"mounted",value:function(){var e;if(null===(e=this.hotList)||void 0===e?void 0:e.length)return this.channelPool=this.hotList,void this.initFirstPage();this.loadHotList()}}]),t}(Object(w.b)(he));Ae([Object(fe.b)("screenSize"),Re("design:type",String)],Se.prototype,"screenSize",void 0),Ae([Object(fe.b)("hotList"),Re("design:type",Object)],Se.prototype,"hotList",void 0),Ae([Object(fe.a)("SET_HOT_LIST"),Re("design:type",Object)],Se.prototype,"setHotList",void 0),Ae([Object(w.f)("screenSize"),Re("design:type",Function),Re("design:paramtypes",[String,String]),Re("design:returntype",void 0)],Se.prototype,"hanlde",null);var Le=Se=Ae([w.a],Se),xe=(n(219),n(7)),De=Object(xe.a)(Le,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"checkload",rawName:"v-checkload",value:e.handleShow,expression:"handleShow"}],staticClass:"hot-channel-panel"},[a("div",{staticClass:"type-header"},[a("div",{staticClass:"type-header"},[a("div",{staticClass:"header-info"},[a("span",{staticClass:"title"},[e._v("热门频道")]),e._v(" "),a("span",{staticClass:"count"},[e._v(e._s(e.channelPool.length))])])]),e._v(" "),a("div",{staticClass:"change-btn",on:{click:e.changeData}},[a("img",{attrs:{src:n(218),alt:"换一换"}}),e._v("\n      换一换\n    ")])]),e._v(" "),e.channelList.length?a("div",{staticClass:"list"},e._l(e.channelList,(function(t,n){return a("div",{key:n,staticClass:"card",on:{click:function(n){return e.goChannelPage(t.id)}}},[a("van-image",{staticClass:"card-cover",attrs:{src:t.cover,options:{c:1,q:100},width:"60",height:"60"}}),e._v(" "),a("p",{staticClass:"title",attrs:{title:t.name}},[e._v(e._s(t.name))])],1)})),0):a("div",{staticClass:"list"},e._l(10,(function(e){return a("div",{key:e,staticClass:"card"},[a("div",{staticClass:"loading-image"})])})),0)])}),[],!1,null,"0956b3e0",null).exports,Pe=n(89),Ie=n.n(Pe),Te=function(){function e(){x()(this,e)}var t,n;return ie()(e,null,[{key:"openQuickLoginPanel",value:(n=ne()(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.UserStatus.quickLogin((function(){setTimeout((function(){window.location.reload()}),500)}))}catch(e){}case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getLogin",value:(t=ne()(ee.a.mark((function e(){var t,n,a,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface/nav"});case 3:return n=e.sent,a=n.data,t.code=a.code,t.message=a.message,0===a.code?t.data={isLogin:null==a||null===(i=a.data)||void 0===i?void 0:i.isLogin,mid:null==a||null===(r=a.data)||void 0===r?void 0:r.mid}:t.data={isLogin:!1},e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Me=function(){function e(){x()(this,e)}var t,n;return ie()(e,null,[{key:"changeSubscribe",value:(n=ne()(ee.a.mark((function e(t,n,a){var i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return Te.openQuickLoginPanel(),e.abrupt("return",{code:-101});case 4:return e.next=6,H.request({method:"post",url:"ADD"===a?"//api.bilibili.com/x/web-interface/web/channel/subscribe":"//api.bilibili.com/x/web-interface/web/channel/unsubscribe",params:{id:t,csrf:Ie.a.get("bili_jct")}});case 6:return i=e.sent,r=i.data,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(e,t,a){return n.apply(this,arguments)})},{key:"sortSubscribeList",value:(t=ne()(ee.a.mark((function e(t,n){var a,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:null,code:null,message:null},e.next=3,H.request({method:"post",url:"//api.bilibili.com/x/web-interface/web/channel/stick",params:{stick_list:t,normal_list:n,csrf:Ie.a.get("bili_jct")}});case 3:return i=e.sent,r=i.data,a.code=r.code,a.message=r.message,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Ne=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ee=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Be=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}var n,a,i;return ue()(t,e),ie()(t,[{key:"toggleSubscribe",value:(i=ne()(ee.a.mark((function e(t){var n=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.is_subscribed){e.next=5;break}return this.$confirm("取消订阅该频道？",{center:!0,confirmButtonText:"取消订阅",cancelButtonText:"再想想"}).then((function(){n._confirmUnsubs(t)})).catch((function(){})),e.abrupt("return");case 5:this._confirmSubs(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return i.apply(this,arguments)})},{key:"_confirmSubs",value:(a=ne()(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.changeSubscribe(t.id,this.isLogin,"ADD");case 2:if(-101!==(null==(n=e.sent)?void 0:n.code)){e.next=5;break}return e.abrupt("return");case 5:if(0!==(null==n?void 0:n.code)){e.next=14;break}return this.$message.info("订阅成功！"),this.$set(t,"is_subscribed",!0),t.isTop=!0,t.ctype=2,this.myChannelData.unshift(t),this.setMyChannelList(this.myChannelData),t.subscribed_count?t.subscribed_count++:t.subscribed_count=1,e.abrupt("return");case 14:this.$message.error((null==n?void 0:n.message)||"技能冷却中...");case 15:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_confirmUnsubs",value:(n=ne()(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.changeSubscribe(t.id,this.isLogin,"CANCEL");case 2:if(0!==(null==(n=e.sent)?void 0:n.code)){e.next=12;break}return a=this.myChannelData.findIndex((function(e){return e.id===t.id})),this.myChannelData.splice(a,1),this.$message.info("您已取消该订阅"),this.$set(t,"is_subscribed",!1),t.ctype=2,this.setMyChannelList(this.myChannelData),t.subscribed_count--,e.abrupt("return");case 12:this.$message.error((null==n?void 0:n.message)||"技能冷却中...");case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"isLogin",get:function(){return this.user.isLogin}}]),t}(w.e);Ne([Object(fe.b)("user"),Ee("design:type",N)],Be.prototype,"user",void 0),Ne([Object(fe.b)("myChannelData"),Ee("design:type",Array)],Be.prototype,"myChannelData",void 0),Ne([Object(fe.a)("SET_MY_CHANNEL_LIST"),Ee("design:type",Function)],Be.prototype,"setMyChannelList",void 0);var ze=Be=Ne([w.a],Be),Fe=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},$e=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),t}(Object(w.b)(he,ze));Fe([Object(w.c)(),$e("design:type",Object)],He.prototype,"miniCard",void 0),Fe([Object(w.c)(),$e("design:type",String)],He.prototype,"cardType",void 0);var We=He=Fe([w.a],He),Qe=(n(220),Object(xe.a)(We,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mini-channel-card",class:{"card--light":"list"===e.cardType,"card--dark":"banner"===e.cardType},on:{click:function(t){return e.goChannelPage(e.miniCard.id)}}},[n("van-image",{staticClass:"cover",attrs:{src:e.miniCard.cover,options:{c:1,q:100},width:"48",height:"48"}}),e._v(" "),n("p",{staticClass:"name",attrs:{title:e.miniCard.name}},[e._v(e._s(e.miniCard.name||"--"))]),e._v(" "),"banner"===e.cardType?n("p",{staticClass:"count"},[e._v(e._s(e.miniCard.archive_count||"--")+"人投稿")]):e._e(),e._v(" "),"list"===e.cardType?n("p",{staticClass:"label"},[e._v(e._s(e.miniCard.label||"--"))]):e._e(),e._v(" "),"banner"===e.cardType?n("div",{staticClass:"btn",class:{"btn--atten":e.miniCard.is_subscribed,"btn--noatten":!e.miniCard.is_subscribed},on:{click:function(t){return t.stopPropagation(),e.toggleSubscribe(e.miniCard)}}},[e.miniCard.is_subscribed?e._e():n("span",{staticClass:"icon iconfont"},[e._v("")]),e._v(" "),n("span",[e._v(" "+e._s(e.miniCard.is_subscribed?"已订阅":"订阅"))])]):e._e()],1)}),[],!1,null,"4996545e",null).exports),Ye=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ue=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ve=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),t}(w.e);Ye([Object(w.c)(),Ue("design:type",String)],Ve.prototype,"direction",void 0),Ye([Object(w.c)(),Ue("design:type",String)],Ve.prototype,"cardType",void 0);var Ge=Ve=Ye([w.a],Ve),Je=(n(221),Object(xe.a)(Ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"arrow-btn",class:{"white-arrow":"banner"===e.cardType}},["left"===e.direction?n("span",{staticClass:"iconfont rotate-arrow"},[e._v("")]):e._e(),e._v(" "),"right"===e.direction?n("span",{staticClass:"iconfont"},[e._v("")]):e._e()])}),[],!1,null,"15c30e50",null).exports),qe=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ke=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ze=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).slidePage=0,e}return ue()(t,e),ie()(t,[{key:"onbannerSizeChanged",value:function(e,t){if(0!==this.slidePage&&e!=t){var n=J[t]*this.slidePage+1,a=Math.floor(n/J[e]);a===this.slidePage?this.slide.style.transform="translateX(".concat(this.slidePage*-q[this.screenSize],"px)"):this.slidePage=a}}},{key:"onIndexChanged",value:function(e){var t=q[this.screenSize];this.slide.style.transform="translateX(".concat(e*-t,"px)")}},{key:"arrowLeftShow",get:function(){return!(this.channelList.length<=this.maxCountPerPage||this.slidePage<=0)}},{key:"arrowRightShow",get:function(){return!(this.channelList.length<=this.maxCountPerPage||(this.slidePage+1)*this.maxCountPerPage>=this.channelList.length)}},{key:"maxCountPerPage",get:function(){return J[this.screenSize]}}]),t}(w.e);qe([Object(w.d)(),Ke("design:type",HTMLElement)],Ze.prototype,"slide",void 0),qe([Object(fe.b)("screenSize"),Ke("design:type",String)],Ze.prototype,"screenSize",void 0),qe([Object(w.c)(),Ke("design:type",Object)],Ze.prototype,"channelList",void 0),qe([Object(w.c)(),Ke("design:type",String)],Ze.prototype,"cardType",void 0),qe([Object(w.f)("screenSize"),Ke("design:type",Function),Ke("design:paramtypes",[String,String]),Ke("design:returntype",void 0)],Ze.prototype,"onbannerSizeChanged",null),qe([Object(w.f)("slidePage"),Ke("design:type",Function),Ke("design:paramtypes",[Number]),Ke("design:returntype",void 0)],Ze.prototype,"onIndexChanged",null);var Xe=Ze=qe([Object(w.a)({components:{MiniChannelCard:Qe,BannerArrow:Je}})],Ze),et=(n(222),Object(xe.a)(Xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slide-channel-panel"},[n("BannerArrow",{directives:[{name:"show",rawName:"v-show",value:e.arrowLeftShow,expression:"arrowLeftShow"}],key:"left",staticClass:"arrow-btn--left",attrs:{cardType:e.cardType,direction:"left"},nativeOn:{click:function(t){e.slidePage--}}}),e._v(" "),n("div",{staticClass:"slide"},[n("div",{ref:"slide",staticClass:"slide-scroll"},e._l(e.channelList,(function(t,a){return n("MiniChannelCard",{key:a,staticClass:"mini-card",attrs:{"card-type":e.cardType,miniCard:t,index:a}})})),1)]),e._v(" "),n("BannerArrow",{directives:[{name:"show",rawName:"v-show",value:e.arrowRightShow,expression:"arrowRightShow"}],key:"right",staticClass:"arrow-btn--right",attrs:{cardType:e.cardType,direction:"right"},nativeOn:{click:function(t){e.slidePage++}}})],1)}),[],!1,null,"198365a0",null).exports),tt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},nt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},at=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"handleShow",value:function(){we.reportMsg("viewed_channel_pannel_show")}}]),t}(Object(w.b)(he));tt([Object(fe.b)("viewedData"),nt("design:type",Object)],at.prototype,"viewedData",void 0);var it=at=tt([Object(w.a)({components:{MiniChannelCard:Qe,SlideChannelPanel:et}})],at),rt=(n(223),Object(xe.a)(it,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.viewedData.list&&e.viewedData.list.length?n("div",{directives:[{name:"checkload",rawName:"v-checkload",value:e.handleShow,expression:"handleShow"}],staticClass:"viewed-channel-panel"},[e.viewedData.list&&e.viewedData.list.length?n("div",{staticClass:"type-header"},[n("div",{staticClass:"header-info"},[n("span",{staticClass:"title"},[e._v("最近看过的频道")]),e._v(" "),n("span",{staticClass:"count"},[e._v(e._s(e.viewedData.total))])])]):e._e(),e._v(" "),n("SlideChannelPanel",{attrs:{channelList:e.viewedData.list,cardType:"list"}})],1):e._e()}),[],!1,null,"4044b066",null).exports),ot=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},st=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ct=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).trimProtocol=ke,e}return ue()(t,e),ie()(t,[{key:"reportClick",value:function(){var e=this.videoData,t=e.badge_title,n=e.filt,a=e.sort,i=e.id;we.reportMsg("channel_main_card_click",{card_type:this.isRank?"rank_3r":"av_2r",sort:a,filt:n,channel_id:Number(this.cid),oid:"av".concat(i),corner:t,pos:this.index+1})}},{key:"handleOnload",value:function(e){this.$set(e,"loaded",!0)}},{key:"isLogin",get:function(){return this.user.isLogin}}]),t}(w.e);ot([Object(w.c)(),st("design:type",Object)],ct.prototype,"videoData",void 0),ot([Object(w.c)(),st("design:type",String)],ct.prototype,"cid",void 0),ot([Object(w.c)(),st("design:type",Number)],ct.prototype,"index",void 0),ot([Object(w.c)({default:!1}),st("design:type",Boolean)],ct.prototype,"isRank",void 0),ot([Object(fe.b)("user"),st("design:type",N)],ct.prototype,"user",void 0);var lt=ct=ot([w.a],ct),ut=(n(226),Object(xe.a)(lt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"video-card"},[a("div",{staticClass:"video-card__content"},[a("a",{directives:[{name:"van-danmu",rawName:"v-van-danmu",value:e.videoData.id,expression:"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/videoData.id"},{name:"van-framepreview",rawName:"v-van-framepreview",value:e.videoData.id,expression:"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/videoData.id"}],staticClass:"cover-picture",attrs:{href:"//www.bilibili.com/video/"+e.videoData.bvid,target:"_blank"},on:{click:e.reportClick}},[e._t("rank-badge"),e._v(" "),e.videoData.badge_title?a("div",{staticClass:"video-badge",style:{"background-image":"url("+e.videoData.badge_background+")"}},[a("span",[e._v(e._s(e.videoData.badge_title))])]):e._e(),e._v(" "),a("van-image",{staticClass:"cover-picture__image",class:{"hidden-cover":!e.videoData.loaded,"radius-3":e.videoData.badge_title},attrs:{"v-lazy":e.trimProtocol(e.videoData.cover),src:e.videoData.cover,options:{c:1,q:90},width:"206",height:"116"},nativeOn:{load:function(t){return e.handleOnload(e.videoData)}}}),e._v(" "),a("div",{staticClass:"video-card__info"},[a("span",{staticClass:"play-text"},[a("img",{attrs:{src:n(224),alt:"play"}}),e._v("\n          "+e._s(e.videoData.view_count)+"\n        ")]),e._v(" "),a("span",{staticClass:"like-text"},[a("img",{attrs:{src:n(225),alt:"like"}}),e._v("\n          "+e._s(e.videoData.like_count)+"\n        ")]),e._v(" "),a("span",{staticClass:"play-duraiton"},[e._v(e._s(e.videoData.duration))])])],2),e._v(" "),a("van-watch-later",{directives:[{name:"show",rawName:"v-show",value:e.videoData.id,expression:"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/videoData.id"}],staticClass:"watch-later-video",attrs:{skin:"black",aid:e.videoData.id,isLogin:e.isLogin}})],1),e._v(" "),a("a",{staticClass:"video-name",attrs:{href:"//www.bilibili.com/video/"+e.videoData.bvid,target:"_blank"}},[e._v(e._s(e.videoData.name)+"\n    ")]),e._v(" "),a("a",{staticClass:"up-name",attrs:{href:"//space.bilibili.com/"+e.videoData.author_id,target:"_blank"}},[a("span",{staticClass:"up-name__icon iconfont"},[e._v("")]),e._v(" "),a("span",{staticClass:"up-name__text"},[e._v(e._s(e.videoData.author_name))])])])}),[],!1,null,"471d7f4b",null).exports),dt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ft=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pt=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"formatCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _e.formatSubscribeCount(e)}},{key:"handleClickReport",value:function(){we.reportMsg("channel_list_click",{pageName:this.page,channelId:this.item.id,channelName:this.item.name})}},{key:"handleShowReport",value:function(){we.reportMsg("channel_list_show",{pageName:this.page,channelId:this.item.id,channelName:this.item.name})}}]),t}(Object(w.b)(he,ze));dt([Object(w.c)(),ft("design:type",Object)],pt.prototype,"item",void 0),dt([Object(w.c)(),ft("design:type",String)],pt.prototype,"page",void 0);var vt=pt=dt([Object(w.a)({components:{VideoCard:ut}})],pt),ht=(n(227),Object(xe.a)(vt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item?a("div",{directives:[{name:"checkload",rawName:"v-checkload",value:e.handleShowReport,expression:"handleShowReport"}],key:e.item.id,staticClass:"channel-list-preview report-wrap-module",attrs:{id:"channel_list_"+e.item.id}},[a("div",{staticClass:"header"},[a("div",{staticClass:"channel-info",on:{click:function(t){e.goChannelPage(e.item.id,e.page,e.item.cid,e.item.featured_count),e.handleClickReport()}}},[a("van-image",{staticClass:"header-cover",attrs:{src:e.item.cover,alt:e.item.title,options:{c:1,q:100},width:"48",height:"48"}}),e._v(" "),a("div",{staticClass:"header-info"},[a("div",{staticClass:"title"},[a("p",[e._v(e._s(e.item.name))]),e._v(" "),e.item.is_season?a("img",{staticClass:"icon",attrs:{src:n(112),alt:""}}):e._e()]),e._v(" "),a("div",{staticClass:"header-desc"},[e.item.archive_count?a("span",[e._v(e._s(e.item.archive_count)+"个视频")]):e._e(),e._v(" "),e.item.view_count?a("span",[e._v(e._s(e.item.view_count)+"观看")]):e._e(),e._v(" "),a("span",[e._v(e._s(e.formatCount(e.item.featured_count)||"-")+"个精选视频")]),e._v(" "),e.item.season_count?a("span",[e._v(e._s(e.item.season_count)+"部剧集")]):e._e()])])],1),e._v(" "),a("div",{staticClass:"channel-btns"},[e.item.is_subscribed?a("div",{staticClass:"item-btn gray-btn",on:{click:function(t){return e.toggleSubscribe(e.item)}}},[e._v(e._s("已订阅 "+e.formatCount(e.item.subscribed_count)))]):a("div",{staticClass:"item-btn primary-btn",on:{click:function(t){return e.toggleSubscribe(e.item)}}},[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n        "+e._s("订阅 "+e.formatCount(e.item.subscribed_count)))]),e._v(" "),a("div",{staticClass:"go-channel-btn",on:{click:function(t){return e.goChannelPage(e.item.id)}}},[e._v("进入频道\n        "),a("span",{staticClass:"iconfont"},[e._v("")])])])]),e._v(" "),a("div",{staticClass:"list"},e._l(e.item.archives,(function(t,n){return a("VideoCard",{key:n,attrs:{videoData:t,cid:e.item.id,index:n}})})),1)]):e._e()}),[],!1,null,"f7c7d72e",null).exports),yt=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"getScrollTop",value:function(e){try{return e.scrollTop}catch(e){return 0}}},{key:"scrollYWithAnimation",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,i=this.getScrollTop(e),r=t-i,o=i+r*a,s=Math.abs(t-o)<30,c=o+window.innerHeight>=e.scrollHeight;(s||c)&&(o=t),e.scrollTo?e.scrollTo(0,o):e.scrollTop=o,o!==t&&requestAnimationFrame((function(){return n.scrollYWithAnimation(e,t)}))}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.x,a=t.y,i=isNaN(n)?e.scrollLeft:n,r=isNaN(a)?e.scrollTop:a;e.scrollTo?e.scrollTo(i,r):(e.scrollTop=r,e.scrollLeft=i)}}]),e}(),gt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},bt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mt=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).container=null,e.el=null,e.visible=!1,e.height=document.body.clientHeight||window.screen.height||window.innerHeight,e}return ue()(t,e),ie()(t,[{key:"handleClick",value:function(){yt.scrollYWithAnimation(this.container,0)}},{key:"scrollToTop",value:function(){var e=yt.getScrollTop(this.container);this.visible=e>this.height}},{key:"init",value:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: ".concat(this.target));this.container=this.el}}},{key:"mounted",value:function(){this.init(),this.container.addEventListener("scroll",Ce.throttle(this.scrollToTop,100))}},{key:"beforeDestroy",value:function(){this.container.removeEventListener("scroll",this.scrollToTop)}}]),t}(w.e);gt([Object(w.c)({default:""}),bt("design:type",String)],mt.prototype,"target",void 0);var _t=mt=gt([w.a],mt),Ct=(n(228),Object(xe.a)(_t,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.visible?n("div",{staticClass:"back-top-btn",on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[n("span",{staticClass:"arrow-icon iconfont"},[e._v("")])]):e._e()])}),[],!1,null,"74053f2a",null).exports),wt=function(){function e(){x()(this,e)}var t;return ie()(e,null,[{key:"getViewedList",value:(t=ne()(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface//web/channel/view/list"});case 3:return n=e.sent,a=n.data,t.code=a.code,t.message=a.message,0===a.code&&(t.data=a.data),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),kt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ot=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jt=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).HOT_CATEGORY_ID=100,e.hotTotal=0,e}var n;return ue()(t,e),ie()(t,[{key:"handleLogin",value:function(e){e&&this.loadViewedList()}},{key:"retry",value:function(){this.discoveryListLoader.retry()}},{key:"discoveryFlowCb",value:function(e){var t,n=e.data;this.hotTotal=n.extra.total,(null==n||null===(t=n.result)||void 0===t?void 0:t.length)&&we.reportMsg("page_load",{pageName:"discovery",offset:n.extra.offset})}},{key:"loadViewedList",value:(n=ne()(ee.a.mark((function e(){var t,n=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.getViewedList();case 3:t=e.sent,this.setViewedData({list:t.data.channels,total:t.data.total,loaded:!0}),this.$nextTick((function(){n.discoveryListLoader.initData()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setViewedData({list:[],total:0,loaded:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return n.apply(this,arguments)})},{key:"mounted",value:function(){we.reportMsg("discovery_page_pv"),this.isLogin&&this.loadViewedList()}},{key:"isLogin",get:function(){return this.user.isLogin}}]),t}(w.e);kt([Object(w.d)(),Ot("design:type",Object)],jt.prototype,"discoveryListLoader",void 0),kt([Object(fe.a)("SET_VIEWED_DATA"),Ot("design:type",Object)],jt.prototype,"setViewedData",void 0),kt([Object(fe.b)("user"),Ot("design:type",N)],jt.prototype,"user",void 0),kt([Object(fe.b)("viewedData"),Ot("design:type",Object)],jt.prototype,"viewedData",void 0),kt([Object(fe.b)("hotList"),Ot("design:type",Object)],jt.prototype,"hotList",void 0),kt([Object(w.f)("isLogin"),Ot("design:type",Function),Ot("design:paramtypes",[Object]),Ot("design:returntype",void 0)],jt.prototype,"handleLogin",null);var At=jt=kt([Object(w.a)({components:{HotChannelPanel:De,ViewedChannelPanel:rt,ChannelListPreview:ht,BackTopBtn:Ct}})],jt),Rt=(n(229),n(230),Object(xe.a)(At,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discovery-container"},[n("div",{staticClass:"inner-container"},[null!==e.isLogin?n("div",[e.isLogin?n("ViewedChannelPanel"):n("HotChannelPanel")],1):e._e(),e._v(" "),n("FlowLoader",{directives:[{name:"show",rawName:"v-show",value:e.isLogin?e.viewedData.loaded:e.hotList,expression:"isLogin ? viewedData.loaded : hotList"}],ref:"discoveryListLoader",attrs:{func:"getCategoryList",type:"lastId",useRect:!0,preload:100,"use-first-loading":!0,"display-no-more":!0,"use-first-error":!0,"retry-on-error":!0,callback:e.discoveryFlowCb,query:{id:e.HOT_CATEGORY_ID,changing:"offset"}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.flow;return n("ul",{staticClass:"card-list"},[e.isLogin&&a&&a.length?n("div",{staticClass:"type-header"},[n("div",{staticClass:"header-info"},[n("span",{staticClass:"title"},[e._v("热门频道")]),e._v(" "),n("span",{staticClass:"count"},[e._v(e._s(e.hotTotal))])])]):e._e(),e._v(" "),e._l(a,(function(e,t){return n("ChannelListPreview",{key:t,attrs:{item:e,page:"discovery"}})}))],2)}}])},[e._v(" "),n("div",{staticClass:"nothing-text",attrs:{slot:"nothing"},slot:"nothing"},[e._v("这里空空如也，还什么都没有呢～")]),e._v(" "),n("div",{staticClass:"no-more",attrs:{slot:"no-more"},slot:"no-more"},[e._v("没有更多频道了")]),e._v(" "),n("div",{staticClass:"first-loading",attrs:{slot:"first-loading"},slot:"first-loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-loading",attrs:{slot:"loading"},slot:"loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"first-error"},slot:"first-error"},[e._v("\n        加载失败,\n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"error"},slot:"error"},[e._v("\n        加载失败,\n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])])])],1),e._v(" "),n("BackTopBtn",{attrs:{target:".discovery-container"}})],1)}),[],!1,null,"0cde21b8",null).exports),St=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Lt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xt=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"formatCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _e.formatSubscribeCount(e)}},{key:"handleClickReport",value:function(){we.reportMsg("ext_channel_click",{pageName:"search",channelId:this.item.id,channelName:this.item.name})}}]),t}(Object(w.b)(he,ze));St([Object(w.c)(),Lt("design:type",Object)],xt.prototype,"item",void 0);var Dt=xt=St([w.a],xt),Pt=(n(231),Object(xe.a)(Dt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-channel-item"},[a("div",{staticClass:"channel-container",on:{click:function(t){e.goChannelPage(e.item.id,e.page,e.item.cid,e.item.featured_count),e.handleClickReport()}}},[a("van-image",{staticClass:"cover",attrs:{src:e.item.cover,alt:e.item.title,options:{c:1,q:100},width:"48",height:"48"}}),e._v(" "),a("div",{staticClass:"channel-info"},[a("div",{staticClass:"title"},[a("p",[e._v(e._s(e.item.name))]),e._v(" "),e.item.is_season?a("img",{staticClass:"icon",attrs:{src:n(112),alt:""}}):e._e()]),e._v(" "),a("div",{staticClass:"desc"},[e.item.archive_count?a("span",{attrs:{title:e.item.archive_count+"个视频"}},[e._v(e._s(e.item.archive_count)+"个视频")]):e._e(),e._v(" "),e.item.view_count?a("span",{attrs:{title:e.item.view_count+"观看"}},[e._v(e._s(e.item.view_count)+"观看")]):e._e(),e._v(" "),a("span",{attrs:{title:e.item.featured_count+"个精选视频"}},[e._v(e._s(e.formatCount(e.item.featured_count)||"-")+"个精选视频")]),e._v(" "),e.item.season_count?a("span",{attrs:{title:e.item.season_count+"部剧集"}},[e._v(e._s(e.item.season_count)+"部剧集")]):e._e()])])],1),e._v(" "),a("div",{staticClass:"channel-btn"},[e.item.is_subscribed?a("div",{staticClass:"gray-btn",on:{click:function(t){return e.toggleSubscribe(e.item)}}},[e._v(e._s("已订阅 "+e.formatCount(e.item.subscribed_count)))]):a("div",{staticClass:"primary-btn",on:{click:function(t){return e.toggleSubscribe(e.item)}}},[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n      "+e._s("订阅 "+e.formatCount(e.item.subscribed_count))+"\n    ")])])])}),[],!1,null,"c30e684c",null).exports),It=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Tt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mt=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).total=0,e.extChannels=[],e.extType="more",e.extTypeMap={more:"更多频道",hot:"热门频道"},e}return ue()(t,e),ie()(t,[{key:"retry",value:function(){this.searchResultLoader.retry()}},{key:"searchFlowCb",value:function(e){var t,n,a,i,r,o,s=e.data;(this.total=s.extra.total,this.extChannels=null==s||null===(t=s.extra)||void 0===t?void 0:t.ext_channels,this.extType=null==s||null===(n=s.extra)||void 0===n?void 0:n.ext_type,null==s||null===(a=s.result)||void 0===a?void 0:a.length)&&(we.reportMsg("page_load",{pageName:"search",page:null==s||null===(i=s.extra)||void 0===i?void 0:i.page,keyword:encodeURIComponent(this.$route.query.keyword),total:s.extra.total}),1===(null==e||null===(r=e.params)||void 0===r?void 0:r.page)&&we.reportMsg("search_page_pv",{keyword:encodeURIComponent(this.$route.query.keyword),search_result:null==s||null===(o=s.extra)||void 0===o?void 0:o.total}))}}]),t}(w.e);It([Object(w.d)(),Tt("design:type",Object)],Mt.prototype,"searchResultLoader",void 0);var Nt=Mt=It([Object(w.a)({components:{ChannelListPreview:ht,BackTopBtn:Ct,ChannelExtItem:Pt}})],Mt),Et=(n(232),Object(xe.a)(Nt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-container"},[a("div",{staticClass:"inner-container"},[a("FlowLoader",{ref:"searchResultLoader",attrs:{func:"getSearchResult",type:"page",useRect:!0,preload:100,"use-first-loading":!0,"display-no-more":!0,"use-first-error":!0,"retry-on-error":!1,callback:e.searchFlowCb,query:{keyword:e.$route.query.keyword,page_size:10,changing:"page"}},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.source;return a("div",{staticClass:"type-header"},[a("div",{staticClass:"header-info"},[a("span",{staticClass:"title"},[e._v("搜索结果")]),e._v(" "),a("span",{staticClass:"count"},[e._v(e._s(n.total))])])])}},{key:"default",fn:function(t){var i=t.flow;return a("ul",{staticClass:"card-list"},[i?e._l(i,(function(t,r){return a("div",{key:r},[t.name?a("ChannelListPreview",{key:r,attrs:{item:t,page:"search"}}):e._e(),e._v(" "),i&&1!==i.length&&0!==i.length?e._e():a("div",{staticClass:"empty-channel"},[a("img",{attrs:{src:n(113),alt:""}}),e._v(" "),a("p",[e._v("没有找到这个频道呢")])]),e._v(" "),"more"===t.type||t.items&&t.items.length?a("div",{staticClass:"more-channels"},[a("div",{staticClass:"type-header"},[a("div",{staticClass:"header-info"},[a("span",{staticClass:"title"},[e._v(e._s(e.extTypeMap[t.type]))]),e._v(" "),a("span",{staticClass:"count"},[e._v(e._s(t.items.length))])])]),e._v(" "),a("div",{staticClass:"more-channels__list"},e._l(t.items,(function(e,t){return a("ChannelExtItem",{key:t,attrs:{item:e}})})),1)]):e._e()],1)})):e._e()],2)}}])},[e._v(" "),e._v(" "),a("div",{staticClass:"no-more",attrs:{slot:"no-more"},slot:"no-more"},[e._v("没有更多频道了")]),e._v(" "),a("div",{staticClass:"first-loading",attrs:{slot:"first-loading"},slot:"first-loading"},[e._v("加载中...")]),e._v(" "),a("div",{staticClass:"scroll-loading",attrs:{slot:"loading"},slot:"loading"},[e._v("加载中...")]),e._v(" "),a("div",{staticClass:"scroll-error",attrs:{slot:"first-error"},slot:"first-error"},[e._v("加载失败, \n        "),a("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])]),e._v(" "),a("div",{staticClass:"scroll-error",attrs:{slot:"error"},slot:"error"},[e._v("加载失败, \n        "),a("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])])])],1),e._v(" "),a("BackTopBtn",{attrs:{target:".search-container"}})],1)}),[],!1,null,"b1a4e466",null).exports),Bt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},zt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ft=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).total=0,e}return ue()(t,e),ie()(t,[{key:"categoryListFlowCb",value:function(e){var t,n=e.data;this.total=n.extra.total,(null==n||null===(t=n.result)||void 0===t?void 0:t.length)&&this.currentCategory&&we.reportMsg("page_load",{pageName:"category",offset:n.extra.offset,categoryId:this.$route.params.tid,categoryName:this.currentCategory})}},{key:"retry",value:function(){this.hotListLoader.retry()}},{key:"isLogin",get:function(){return this.user.isLogin}},{key:"currentCategory",get:function(){var e=this,t=this.categoryList.find((function(t){return t.id===Number(e.$route.params.tid)}));return we.reportMsg("category_page_pv",{name:null==t?void 0:t.name,id:this.$route.params.tid}),t}}]),t}(w.e);Bt([Object(w.d)(),zt("design:type",Object)],Ft.prototype,"hotListLoader",void 0),Bt([Object(fe.b)("user"),zt("design:type",N)],Ft.prototype,"user",void 0),Bt([Object(fe.b)("categoryList"),zt("design:type",Array)],Ft.prototype,"categoryList",void 0);var $t=Ft=Bt([Object(w.a)({components:{ChannelListPreview:ht,BackTopBtn:Ct}})],Ft),Ht=(n(233),Object(xe.a)($t,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"category-container"},[n("div",{staticClass:"inner-container"},[e.currentCategory?n("div",{staticClass:"inner-container__header"},[n("span",{staticClass:"title"},[e._v(e._s(e.currentCategory.name))]),e._v(" "),e.total?n("span",{staticClass:"count"},[e._v(e._s(e.currentCategory.channel_count))]):e._e()]):e._e(),e._v(" "),n("FlowLoader",{ref:"hotListLoader",attrs:{func:"getCategoryList",type:"lastId",useRect:!0,preload:200,"use-first-loading":!0,"display-no-more":!0,"use-first-error":!0,"retry-on-error":!1,callback:e.categoryListFlowCb,query:{id:e.$route.params.tid,changing:"offset"}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.flow;return n("ul",{staticClass:"card-list"},e._l(a,(function(e,t){return n("ChannelListPreview",{key:t,attrs:{item:e,page:"category"}})})),1)}}])},[e._v(" "),n("div",{staticClass:"nothing-text",attrs:{slot:"nothing"},slot:"nothing"},[e._v("这里空空如也，还什么都没有呢～")]),e._v(" "),n("div",{staticClass:"no-more",attrs:{slot:"no-more"},slot:"no-more"},[e._v("到底了")]),e._v(" "),n("div",{staticClass:"first-loading",attrs:{slot:"first-loading"},slot:"first-loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-loading",attrs:{slot:"loading"},slot:"loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"first-error"},slot:"first-error"},[e._v("加载失败, \n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"error"},slot:"error"},[e._v("加载失败, \n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])])])],1),e._v(" "),n("BackTopBtn",{attrs:{target:".category-container"}})],1)}),[],!1,null,"17c2df7b",null).exports),Wt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Qt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yt=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"formatCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _e.formatSubscribeCount(e)}}]),t}(Object(w.b)(ze));Wt([Object(w.c)(),Qt("design:type",Object)],Yt.prototype,"bannerData",void 0);var Ut=Yt=Wt([w.a],Yt),Vt=(n(235),Object(xe.a)(Ut,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.bannerData?a("div",{staticClass:"detail-banner-title"},[a("div",{staticClass:"cover"},[e.bannerData.cover?a("van-image",{attrs:{src:e.bannerData.cover,options:{c:1,q:100},width:"92",height:"92"}}):e._e()],1),e._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"title"},[a("p",[e._v(e._s(e.bannerData.name))]),e._v(" "),e.bannerData.is_season?a("img",{staticClass:"tv-icon",attrs:{src:n(234),alt:""}}):e._e()]),e._v(" "),a("div",{staticClass:"info"},[e.bannerData.archive_count?a("span",{staticClass:"info__item"},[e._v(e._s(e.bannerData.archive_count)+"个视频")]):e._e(),e._v(" "),e.bannerData.view_count?a("span",{staticClass:"info__item"},[e._v(e._s(e.bannerData.view_count)+"观看")]):e._e(),e._v(" "),a("span",{staticClass:"info__item"},[e._v(e._s(e.formatCount(e.bannerData.featured_count||0)||"-")+"个精选视频")]),e._v(" "),e.bannerData.season_count?a("span",{staticClass:"info__item"},[e._v(e._s(e.bannerData.season_count)+"部剧集")]):e._e()]),e._v(" "),a("div",{staticClass:"btn",class:{"btn--subscribe":e.bannerData.is_subscribed},style:{color:e.bannerData.is_subscribed?"#fff":e.bannerData.theme_color},on:{click:function(t){return e.toggleSubscribe(e.bannerData)}}},[e.bannerData.is_subscribed?e._e():a("span",{staticClass:"icon iconfont"},[e._v("")]),e._v(" "),a("span",[e._v("\n\n        "+e._s(e.bannerData.is_subscribed?"已订阅 "+e.formatCount(e.bannerData.subscribed_count):" 订阅 "+e.formatCount(e.bannerData.subscribed_count))+"\n      ")])])])]):e._e()}),[],!1,null,"09fb1f50",null).exports),Gt=n(27),Jt=new Gt.default,qt=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"bfsLink",value:function(e,t,n){try{return e=this.bfsHttps(e),Jt.getImageLink(e,t,n)}catch(t){return e}}},{key:"bfsHttps",value:function(e){return e.replace("http://","//")}}]),e}(),Kt=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Zt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xt=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).showBanner=!1,e}return ue()(t,e),ie()(t,[{key:"onWatchRoute",value:function(e,t){e.params.id!==t.params.id&&(this.showBanner=!1)}},{key:"bannerStyle",get:function(){var e,t;return{height:this.showBanner?"360px":"188px",backgroundColor:null===(e=this.bannerData)||void 0===e?void 0:e.theme_color,justifyContent:(null===(t=this.bannerData)||void 0===t?void 0:t.tag_channels.length)?"flex-start":"center"}}},{key:"maskStyle",get:function(){var e;return{background:"linear-gradient(90deg, ".concat(null===(e=this.bannerData)||void 0===e?void 0:e.theme_color," 0%, rgba(140,36,18,0.00) 100%)")}}},{key:"backgroundStyle",get:function(){var e,t;return{backgroundImage:"url(".concat(qt.bfsLink(null===(e=this.bannerData)||void 0===e?void 0:e.background),")"),opacity:(100-(null===(t=this.bannerData)||void 0===t?void 0:t.alpha))/100}}}]),t}(Object(w.b)(he));Kt([Object(w.c)(),Zt("design:type",Object)],Xt.prototype,"bannerData",void 0),Kt([Object(w.f)("$route"),Zt("design:type",Function),Zt("design:paramtypes",[Object,Object]),Zt("design:returntype",void 0)],Xt.prototype,"onWatchRoute",null);var en=Xt=Kt([Object(w.a)({components:{BannerTitle:Vt,MiniChannelCard:Qe,SlideChannelPanel:et}})],Xt),tn=(n(236),Object(xe.a)(en,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-banner",style:e.bannerStyle},[e.bannerData?n("div",{staticClass:"detail-banner__inner"},[n("BannerTitle",{attrs:{bannerData:e.bannerData}}),e._v(" "),n("div",{staticClass:"linear-mask",style:e.maskStyle}),e._v(" "),n("div",{staticClass:"banner-cover",style:e.backgroundStyle}),e._v(" "),e.bannerData.tag_channels.length?n("div",{staticClass:"relative-tags-container"},[n("transition",{attrs:{name:"toogle",mode:"out-in"}},[e.showBanner?n("div",{key:"panel",staticClass:"relative-panel"},[e.showBanner?n("div",{staticClass:"header"},[n("span",{staticClass:"header__title"},[e._v("相关频道")]),e._v(" "),n("span",{staticClass:"header__btn",on:{click:function(t){e.showBanner=!1}}},[e._v("收起")])]):e._e(),e._v(" "),n("SlideChannelPanel",{attrs:{channelList:e.bannerData.tag_channels,cardType:"banner"}})],1):n("div",{key:"tag",staticClass:"relative-tags"},[n("div",e._l(e.bannerData.tag_channels,(function(t,a){return n("span",{key:a,staticClass:"relative-tags__item",on:{click:function(n){return e.goChannelPage(t.id)}}},[e._v(e._s(t.name))])})),0),e._v(" "),n("span",{staticClass:"toggle-btn",on:{click:function(t){e.showBanner=!0}}},[e._v("展开")])])])],1):e._e()],1):e._e()])}),[],!1,null,"17b9aebe",null).exports),nn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},an=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rn=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"handleClick",value:function(e){this.$emit("handle-click",e.value)}},{key:"activeStyle",get:function(){return{border:"1px solid ".concat(this.themeColor),color:this.themeColor}}}]),t}(w.e);nn([Object(w.c)(),an("design:type",Array)],rn.prototype,"sort",void 0),nn([Object(w.c)(),an("design:type",String)],rn.prototype,"activeValue",void 0),nn([Object(w.c)(),an("design:type",String)],rn.prototype,"themeColor",void 0);var on=rn=nn([w.a],rn),sn=(n(237),Object(xe.a)(on,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"year-selector"},e._l(e.sort,(function(t,a){return n("span",{key:a,staticClass:"year-selector__item",style:t.value===e.activeValue&&e.activeStyle,on:{click:function(n){return e.handleClick(t,a)}}},[e._v(e._s(t.title))])})),0)}),[],!1,null,"cfdccf38",null).exports),cn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ln=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},un=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).colorMap={0:"#FB7299",1:"#00a1d6",2:"#FAAB4B"},e}return ue()(t,e),ie()(t,[{key:"reportClick",value:function(e){var t=e.badge_title,n=e.filt,a=e.sort,i=e.id;we.reportMsg("channel_main_card_click",{card_type:"pgc",sort:a,filt:n,channel_id:Number(this.cid),oid:i,corner:t,pos:this.index+1})}}]),t}(w.e);cn([Object(w.c)(),ln("design:type",Object)],un.prototype,"card",void 0),cn([Object(w.c)(),ln("design:type",String)],un.prototype,"type",void 0),cn([Object(w.c)(),ln("design:type",Object)],un.prototype,"cid",void 0),cn([Object(w.c)(),ln("design:type",Object)],un.prototype,"index",void 0);var dn=un=cn([w.a],un),fn=(n(238),Object(xe.a)(dn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"pgc-narrow-card",attrs:{target:"_blank",href:e.card.uri},on:{click:function(t){return e.reportClick(e.card)}}},[n("div",{staticClass:"pgc-narrow-card__cover"},[e.card.badge_title?n("div",{staticClass:"card-badge",style:{backgroundColor:e.colorMap[e.card.badge_type]}},[e._v("\n      "+e._s(e.card.badge_title)+"\n    ")]):e._e(),e._v(" "),n("van-image",{staticClass:"cover-picture",attrs:{src:e.card.cover,alt:e.card.name,options:{c:1,q:100},width:"206",height:"275"}}),e._v(" "),n("div",{staticClass:"pgc-narrow-card__info"},[e._v(e._s(e.card.view_count)+"播放")])],1),e._v(" "),n("p",{staticClass:"pgc-name",attrs:{title:e.card.name}},[e._v(e._s(e.card.name))]),e._v(" "),n("p",{staticClass:"pgc-desc",attrs:{title:e.card.styles}},[e._v(e._s(e.card.styles))])])}),[],!1,null,"155de1de",null).exports),pn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},vn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hn=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).colorMap={0:"#FB7299",1:"#00a1d6",2:"#FAAB4B"},e}return ue()(t,e),ie()(t,[{key:"reportClick",value:function(e,t){var n=e.badge_title,a=e.filt,i=e.sort,r=e.id;we.reportMsg("channel_main_card_click",{card_type:"pgc",sort:i,filt:a,channel_id:Number(this.cid),oid:r,corner:n,pos:t+1})}}]),t}(w.e);pn([Object(w.c)(),vn("design:type",Array)],hn.prototype,"cardList",void 0),pn([Object(w.c)(),vn("design:type",String)],hn.prototype,"type",void 0),pn([Object(w.c)(),vn("design:type",Object)],hn.prototype,"cid",void 0);var yn,gn,bn=hn=pn([w.a],hn),mn=(n(239),Object(xe.a)(bn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pgc-wide-card"},e._l(e.cardList,(function(t,a){return n("a",{key:a,staticClass:"single-card",class:{"col-2":e.cardList.length>1,"col-1":1===e.cardList.length},attrs:{target:"_blank",href:t.uri},on:{click:function(n){return e.reportClick(t,a)}}},[n("div",{staticClass:"card__cover"},[t.badge_title?n("div",{staticClass:"card-badge",style:{backgroundColor:e.colorMap[t.badge_type]}},[e._v("\n      "+e._s(t.badge_title)+"\n    ")]):e._e(),e._v(" "),n("van-image",{staticClass:"cover-picture",attrs:{src:t.cover,alt:t.name,options:{c:1,q:90},width:"206",height:"275"}})],1),e._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"pgc-name"},[e._v(e._s(t.name))]),e._v(" "),n("p",{staticClass:"pgc-desc"},[e._v(e._s(t.view_count)+"观看")]),e._v(" "),t.episode_count?n("p",{staticClass:"pgc-desc"},[e._v("全"+e._s(t.episode_count)+"集")]):e._e(),e._v(" "),n("p",{staticClass:"pgc-desc"},[e._v(e._s(t.styles))]),e._v(" "),n("p",{staticClass:"pgc-desc"},[e._v(e._s(t.actors))])])])})),0)}),[],!1,null,"63308dfa",null).exports),_n=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Cn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.Large=6]="Large",e[e.Medium=5]="Medium",e[e.Small=5]="Small"}(yn||(yn={})),function(e){e.Large="349px",e.Medium="349px",e.Small="300px"}(gn||(gn={}));var wn=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).height=null,e.isPanelOpen=!1,e}return ue()(t,e),ie()(t,[{key:"ScreenSizeChange",value:function(e,t){var n=this;e!==t&&(this.height=this.isPanelOpen?"auto":gn[this.screenSize],this.isPanelOpen&&this.$nextTick((function(){setTimeout((function(){n.height=n.panelRef.scrollHeight+"px"}),20)})))}},{key:"toogle",value:function(){this.isPanelOpen=!this.isPanelOpen;var e=document.querySelector(".detail-page-container");this.isPanelOpen?this.height=this.panelRef.scrollHeight+"px":(this.height=gn[this.screenSize],yt.scrollYWithAnimation(e,0))}},{key:"mounted",value:function(){this.height=gn[this.screenSize]}},{key:"maxCountPerLine",get:function(){return yn[this.screenSize]}},{key:"pgcList",get:function(){return this.pgcData.items}}]),t}(w.e);_n([Object(w.d)(),Cn("design:type",HTMLElement)],wn.prototype,"panelRef",void 0),_n([Object(w.c)(),Cn("design:type",Object)],wn.prototype,"pgcData",void 0),_n([Object(w.c)(),Cn("design:type",Object)],wn.prototype,"cid",void 0),_n([Object(fe.b)("screenSize"),Cn("design:type",String)],wn.prototype,"screenSize",void 0),_n([Object(w.f)("screenSize"),Cn("design:type",Function),Cn("design:paramtypes",[Object,Object]),Cn("design:returntype",void 0)],wn.prototype,"ScreenSizeChange",null);var kn=wn=_n([Object(w.a)({components:{PgcWideCard:mn,PgcNarrowCard:fn}})],wn),On=(n(240),Object(xe.a)(kn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pgc-card-panel"},[e.pgcList.length<=2?n("div",{staticClass:"wide-card-panel"},[n("PgcWideCard",{attrs:{cardList:e.pgcList,type:"single",cid:e.cid}})],1):n("div",{ref:"panelRef",staticClass:"narrow-card-panel",style:{height:e.height}},e._l(e.pgcData.items,(function(t,a){return n("PgcNarrowCard",{key:a,attrs:{card:t,cid:e.cid,index:a}})})),1),e._v(" "),e.maxCountPerLine&&e.pgcList.length>e.maxCountPerLine?n("div",{staticClass:"toggle",on:{click:e.toogle}},[n("span",[e._v(e._s(e.isPanelOpen?"收起":"展开更多（"+e.pgcList.length+"）")+"\n      "),n("span",{staticClass:"iconfont",class:{"arrow-up":!e.isPanelOpen,"arrow-down":e.isPanelOpen}},[e._v("")])])]):e._e()])}),[],!1,null,"4de628e6",null).exports),jn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},An=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),t}(w.e),Rn=An=jn([w.a],An),Sn=(n(241),Object(xe.a)(Rn,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"video-loading-card"},[t("div",{staticClass:"cover"}),this._v(" "),t("div",{staticClass:"info"})])}],!1,null,"bbac5eae",null).exports),Ln=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},xn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dn=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).sort="0",e.resultList=null,e.reportPage=0,e}return ue()(t,e),ie()(t,[{key:"onWatchActive",value:function(e){"featured"!==e||this.resultList||this.featuredLoader.initData()}},{key:"onWatchSort",value:function(e,t){e!==t&&we.reportMsg("channel_detail_page_filter",{channelId:this.$route.params.id,channelName:this.name,tab:"featured",filter:e})}},{key:"onWatchChannelId",value:function(){this.sort="0",this.resultList=null,"featured"===this.active&&this.featuredLoader.refresh()}},{key:"flowCb",value:function(e){this.reportPage++;var t=e.data;this.resultList=t.result,we.reportMsg("channel_detail_scroll_load",{channelId:this.$route.params.id,channelName:this.name,tab:"featured",filter:this.sort,page:this.reportPage})}},{key:"handleYearClick",value:function(e){this.sort=e,this.featuredLoader.initData()}},{key:"retry",value:function(){this.featuredLoader.retry()}},{key:"ogvItemStyle",get:function(){return{display:"block",width:"100%"}}},{key:"channelId",get:function(){return this.$route.params.id}}]),t}(w.e);Ln([Object(w.c)(),xn("design:type",Array)],Dn.prototype,"tabSorts",void 0),Ln([Object(w.c)(),xn("design:type",String)],Dn.prototype,"themeColor",void 0),Ln([Object(w.c)(),xn("design:type",String)],Dn.prototype,"name",void 0),Ln([Object(w.c)(),xn("design:type",String)],Dn.prototype,"active",void 0),Ln([Object(w.d)(),xn("design:type",Object)],Dn.prototype,"featuredLoader",void 0),Ln([Object(w.f)("active"),xn("design:type",Function),xn("design:paramtypes",[String]),xn("design:returntype",void 0)],Dn.prototype,"onWatchActive",null),Ln([Object(w.f)("sort"),xn("design:type",Function),xn("design:paramtypes",[Object,Object]),xn("design:returntype",void 0)],Dn.prototype,"onWatchSort",null),Ln([Object(w.f)("channelId"),xn("design:type",Function),xn("design:paramtypes",[]),xn("design:returntype",void 0)],Dn.prototype,"onWatchChannelId",null);var Pn=Dn=Ln([Object(w.a)({components:{YearSelector:sn,PgcCardPanel:On,VideoCard:ut,VideoLoadingCard:Sn}})],Dn),In=(n(242),Object(xe.a)(Pn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-select-panel"},[n("div",{staticClass:"video-list"},[e.tabSorts&&e.tabSorts.length?n("YearSelector",{attrs:{sort:e.tabSorts,activeValue:e.sort,themeColor:e.themeColor},on:{"handle-click":e.handleYearClick}}):e._e(),e._v(" "),n("FlowLoader",{ref:"featuredLoader",staticClass:"report-wrap-module",attrs:{id:"channel_detail_"+e.channelId,func:"getFeaturedByIdx",type:"lastId",useRect:!0,preload:200,"use-first-loading":!0,"display-no-more":!0,"use-first-error":!0,"retry-on-error":!1,callback:e.flowCb,query:{channel_id:e.$route.params.id,sort:e.sort,changing:"offset"}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.flow;return n("ul",{staticClass:"card-list"},e._l(a,(function(t,a){return n("div",{key:a,style:"season"===t.card_type&&e.ogvItemStyle},["0"===e.sort&&"season"===t.card_type?n("PgcCardPanel",{attrs:{pgcData:t,cid:e.channelId}}):e._e(),e._v(" "),"archive"===t.card_type?n("VideoCard",{attrs:{videoData:t,cid:e.channelId,index:a}}):e._e()],1)})),0)}}])},[e._v(" "),n("div",{staticClass:"nothing-text",attrs:{slot:"nothing"},slot:"nothing"},[e._v("这里空空如也，还什么都没有呢～")]),e._v(" "),n("div",{staticClass:"no-more",attrs:{slot:"no-more"},slot:"no-more"},[e._v("没有更多视频了")]),e._v(" "),n("div",{staticClass:"first-loading",attrs:{slot:"first-loading"},slot:"first-loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-loading",attrs:{slot:"loading"},slot:"loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"first-error"},slot:"first-error"},[e._v("\n        加载失败,\n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"error"},slot:"error"},[e._v("\n        加载失败,\n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])])])],1)])}),[],!1,null,"53eda0ef",null).exports),Tn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Mn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nn=function(e){function t(){return x()(this,t),oe()(this,ce()(t).apply(this,arguments))}return ue()(t,e),ie()(t,[{key:"handleClick",value:function(e){this.$emit("handle-click",e.value)}},{key:"activeStyle",get:function(){return{border:"1px solid ".concat(this.themeColor),color:this.themeColor}}}]),t}(w.e);Tn([Object(w.c)(),Mn("design:type",Array)],Nn.prototype,"sort",void 0),Tn([Object(w.c)(),Mn("design:type",String)],Nn.prototype,"activeValue",void 0),Tn([Object(w.c)(),Mn("design:type",String)],Nn.prototype,"themeColor",void 0);var En,Bn,zn,Fn=Nn=Tn([w.a],Nn),$n=(n(243),Object(xe.a)(Fn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"play-selector"},e._l(e.sort,(function(t,a){return n("div",{key:a,staticClass:"play-selector__item",style:t.value===e.activeValue&&e.activeStyle,on:{click:function(n){return e.handleClick(t,a)}}},["hot"===t.value?n("span",{staticClass:"icon iconfont"},[e._v("")]):e._e(),e._v(" "),"view"===t.value?n("span",{staticClass:"icon iconfont"},[e._v("")]):e._e(),e._v(" "),"new"===t.value?n("span",{staticClass:"icon iconfont"},[e._v("")]):e._e(),e._v("\n    "+e._s(t.title)+"\n  ")])})),0)}),[],!1,null,"4ebbf430",null).exports),Hn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Wn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.Large=6]="Large",e[e.Medium=5]="Medium",e[e.Small=5]="Small"}(En||(En={})),function(e){e.Large="214px",e.Medium="214px",e.Small="194px"}(Bn||(Bn={})),function(e){e.Large="428px",e.Medium="428px",e.Small="388px"}(zn||(zn={}));var Qn=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).isPanelOpen=!1,e}return ue()(t,e),ie()(t,[{key:"isTopThree",value:function(e){return 0===e||1===e||2===e}},{key:"topThreeBg",value:function(e){return"Small"===this.screenSize?"url(".concat(n(248)("./rank-line-".concat(e+1,"-170.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/-170.png*/)),")"):"url(".concat(n(252)("./rank-line-".concat(e+1,"-206.png"/*tpa=https://s1.hdslb.com/bfs/static/jinkela/channel-2020/-206.png*/)),")")}},{key:"PanelHeightStyle",get:function(){return{height:this.isPanelOpen?zn[this.screenSize]:Bn[this.screenSize]}}},{key:"maxCountPerLine",get:function(){return En[this.screenSize]}}]),t}(w.e);Hn([Object(w.c)(),Wn("design:type",Object)],Qn.prototype,"rankData",void 0),Hn([Object(w.c)(),Wn("design:type",Object)],Qn.prototype,"cid",void 0),Hn([Object(fe.b)("screenSize"),Wn("design:type",String)],Qn.prototype,"screenSize",void 0);var Yn=Qn=Hn([Object(w.a)({components:{VideoCard:ut}})],Qn),Un=(n(256),n(257),Object(xe.a)(Yn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.rankData?a("div",{staticClass:"rank-card-panel"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v(e._s(e.rankData.title||"排行榜"))]),e._v(" "),a("span",{staticClass:"desc"},[e._v("近"+e._s(e.rankData.publish_range||"--")+"日内投稿，每"+e._s(e.rankData.update_time||"--")+"分钟更新一次")])]),e._v(" "),a("div",{ref:"panel",staticClass:"video-panel",style:e.PanelHeightStyle},e._l(e.rankData.items,(function(t,i){return a("div",{key:i,staticClass:"rank-video-card"},[a("VideoCard",{attrs:{videoData:t,cid:e.cid,"is-rank":!0,index:i}},[a("div",{attrs:{slot:"rank-badge"},slot:"rank-badge"},[e.isTopThree(i)?a("div",{staticClass:"badge-border",style:{backgroundImage:e.topThreeBg(i)}}):e._e(),e._v(" "),0===i?a("img",{staticClass:"tag",attrs:{src:n(244),alt:"1"}}):e._e(),e._v(" "),1===i?a("img",{staticClass:"tag",attrs:{src:n(245),alt:"2"}}):e._e(),e._v(" "),2===i?a("img",{staticClass:"tag",attrs:{src:n(246),alt:"3"}}):e._e(),e._v(" "),e.isTopThree(i)?e._e():a("img",{staticClass:"tag",attrs:{src:n(247),alt:""}}),e._v(" "),e.isTopThree(i)?e._e():a("span",{staticClass:"rank-num"},[e._v(e._s(i+1))])])])],1)})),0),e._v(" "),e.maxCountPerLine&&e.rankData&&e.rankData.items.length>e.maxCountPerLine?a("div",{staticClass:"toggle",on:{click:function(t){e.isPanelOpen=!e.isPanelOpen}}},[a("span",[e._v(e._s(e.isPanelOpen?"收起":"展开更多（"+e.rankData.items.length+"）")+"\n      "),a("span",{staticClass:"iconfont",class:{"arrow-up":!e.isPanelOpen,"arrow-down":e.isPanelOpen}},[e._v("")])])]):e._e()]):e._e()}),[],!1,null,"00be26b6",null).exports),Vn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Gn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jn=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).sort="hot",e.rankData=[],e.resultList=null,e.reportPage=0,e}return ue()(t,e),ie()(t,[{key:"onWatchActive",value:function(e){"multiple"!==e||this.resultList||this.multipleLoader.initData()}},{key:"onWatchSort",value:function(e,t){e!==t&&we.reportMsg("channel_detail_page_filter",{channelId:this.$route.params.id,channelName:this.name,tab:"multiple",filter:e})}},{key:"onWatchBanner",value:function(){this.sort="hot",this.resultList=null,"multiple"===this.active&&this.multipleLoader.refresh()}},{key:"flowCb",value:function(e){this.reportPage++;var t=e.data;this.resultList=t.result,we.reportMsg("channel_detail_scroll_load",{channelId:this.$route.params.id,name:this.name,tab:"multiple",filter:this.sort,page:this.reportPage})}},{key:"handlePlayClick",value:function(e){this.sort=e,this.multipleLoader.initData()}},{key:"retry",value:function(){this.multipleLoader.retry()}},{key:"channelId",get:function(){return this.$route.params.id}},{key:"rankItemStyle",get:function(){return{display:"block",width:"100%"}}}]),t}(w.e);Vn([Object(w.c)(),Gn("design:type",Array)],Jn.prototype,"tabSorts",void 0),Vn([Object(w.c)(),Gn("design:type",String)],Jn.prototype,"themeColor",void 0),Vn([Object(w.c)(),Gn("design:type",String)],Jn.prototype,"name",void 0),Vn([Object(w.c)(),Gn("design:type",String)],Jn.prototype,"active",void 0),Vn([Object(w.d)(),Gn("design:type",Object)],Jn.prototype,"multipleLoader",void 0),Vn([Object(w.f)("active"),Gn("design:type",Function),Gn("design:paramtypes",[String]),Gn("design:returntype",void 0)],Jn.prototype,"onWatchActive",null),Vn([Object(w.f)("sort"),Gn("design:type",Function),Gn("design:paramtypes",[Object,Object]),Gn("design:returntype",void 0)],Jn.prototype,"onWatchSort",null),Vn([Object(w.f)("channelId"),Gn("design:type",Function),Gn("design:paramtypes",[]),Gn("design:returntype",void 0)],Jn.prototype,"onWatchBanner",null);var qn=Jn=Vn([Object(w.a)({components:{VideoCard:ut,PlaySelector:$n,RankCardPanel:Un}})],Jn),Kn=(n(258),Object(xe.a)(qn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-all-panel"},[n("div",{staticClass:"video-list"},[e.tabSorts&&e.tabSorts.length?n("PlaySelector",{attrs:{sort:e.tabSorts,activeValue:e.sort,themeColor:e.themeColor},on:{"handle-click":e.handlePlayClick}}):e._e(),e._v(" "),n("FlowLoader",{ref:"multipleLoader",staticClass:"report-wrap-module",attrs:{id:"channel_detail_"+e.channelId,func:"getMultipleByIdx",type:"lastId",preload:200,"use-first-loading":!0,"display-no-more":!0,"use-first-error":!0,"retry-on-error":!1,callback:e.flowCb,query:{channel_id:e.$route.params.id,sort:e.sort,changing:"offset"}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.flow;return n("ul",{staticClass:"card-list"},e._l(a,(function(t,a){return n("div",{key:a,style:"rank"===t.card_type&&e.rankItemStyle},["hot"===e.sort&&"rank"===t.card_type?n("RankCardPanel",{attrs:{rankData:t,cid:e.channelId}}):e._e(),e._v(" "),"archive"===t.card_type?n("VideoCard",{attrs:{videoData:t,cid:e.channelId,index:a}}):e._e()],1)})),0)}}])},[e._v(" "),n("div",{staticClass:"nothing-text",attrs:{slot:"nothing"},slot:"nothing"},[e._v("这里空空如也，还什么都没有呢～")]),e._v(" "),n("div",{staticClass:"no-more",attrs:{slot:"no-more"},slot:"no-more"},[e._v("没有更多视频了")]),e._v(" "),n("div",{staticClass:"first-loading",attrs:{slot:"first-loading"},slot:"first-loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-loading",attrs:{slot:"loading"},slot:"loading"},[e._v("加载中...")]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"first-error"},slot:"first-error"},[e._v("加载失败, \n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])]),e._v(" "),n("div",{staticClass:"scroll-error",attrs:{slot:"error"},slot:"error"},[e._v("加载失败, \n        "),n("span",{staticClass:"retry-btn",on:{click:e.retry}},[e._v("点击重试")])])])],1)])}),[],!1,null,"00a2de5a",null).exports),Zn=function(){function e(){x()(this,e)}var t;return ie()(e,null,[{key:"getBanner",value:(t=ne()(ee.a.mark((function e(t){var n,a,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface/web/channel/detail",params:{channel_id:Number(t)}});case 3:return a=e.sent,i=a.data,n.code=i.code,n.message=i.message,0===i.code&&(n.data=i.data),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Xn=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ea=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ta=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).featuredOptions=[],e.multipleOptions=[],e.bannerData=null,e.activeTab=null,e.isLoaded=!1,e.videoData=[],e}var n,a;return ue()(t,e),ie()(t,[{key:"onWatchRoute",value:function(e,t){this.activeTab="multiple"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/===e.query.tab?"multiple":"featured",e.params.id!==t.params.id&&this.loadChannelDetailBanner()}},{key:"onWatchAativeTab",value:function(e){var t;this.$router.replace({name:"Detail",params:{id:this.$route.params.id},query:Object.assign({},this.$route.query,{tab:e})}).catch((function(e){})),(null===(t=this.bannerData)||void 0===t?void 0:t.name)&&we.reportMsg("channel_detail_page_filter",{channelId:this.$route.params.id,channelName:this.bannerData.name,tab:e,filter:"multiple"===e?"hot":"0"})}},{key:"loadChannelDetailBanner",value:(a=ne()(ee.a.mark((function e(){var t,n,a,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn.getBanner(this.channelId);case 2:if(t=e.sent,n=t.data,0!==t.code){e.next=13;break}if(this.bannerData=n,this.bannerData&&this.bannerData.tabs){e.next=9;break}return e.abrupt("return");case 9:this.featuredOptions=null===(a=this.bannerData.tabs.find((function(e){return"featured"===e.type})))||void 0===a?void 0:a.options,this.multipleOptions=null===(i=this.bannerData.tabs.find((function(e){return"multiple"===e.type})))||void 0===i?void 0:i.options,e.next=14;break;case 13:this.bannerData=null;case 14:this.isLoaded=!0;case 15:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"mounted",value:(n=ne()(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/AppleWebKit.*Mobile.*/i.test(navigator.userAgent)){e.next=5;break}return a=this.$route.params.id,window.location.href="../../../../../www.bilibili.com/h5/channel/index.htm"/*tpa=https://www.bilibili.com/h5/channel/*/.concat(a),e.abrupt("return");case 5:return this.activeTab="featured"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/===this.$route.query.tab?"featured":"multiple",e.next=8,this.loadChannelDetailBanner();case 8:we.reportMsg("channel_detail_page_pv",{channelId:this.$route.params.id,name:null===(t=this.bannerData)||void 0===t?void 0:t.name}),we.reportMsg("channel_detail_page_filter",{channelId:this.$route.params.id,channelName:null===(n=this.bannerData)||void 0===n?void 0:n.name,tab:this.activeTab,filter:"multiple"===this.activeTab?"hot":"0"});case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"channelId",get:function(){return this.$route.params.id}}]),t}(w.e);Xn([Object(w.f)("$route"),ea("design:type",Function),ea("design:paramtypes",[Object,Object]),ea("design:returntype",void 0)],ta.prototype,"onWatchRoute",null),Xn([Object(w.f)("activeTab"),ea("design:type",Function),ea("design:paramtypes",[String]),ea("design:returntype",void 0)],ta.prototype,"onWatchAativeTab",null);var na=ta=Xn([Object(w.a)({components:{DetailBanner:tn,VideoCard:ut,DetailFeaturedPanel:In,DetailMultiplePanel:Kn,BackTopBtn:Ct}})],ta),aa=(n(259),n(260),Object(xe.a)(na,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-page-container"},[e.bannerData?a("DetailBanner",{attrs:{bannerData:e.bannerData}}):e._e(),e._v(" "),e.bannerData?a("div",{staticClass:"detail-panels"},[e.bannerData.theme_color&&e.bannerData.featured_count?a("van-tabs",{key:e.bannerData.theme_color+e.bannerData.id,staticClass:"van-tab",attrs:{"active-color":e.bannerData.theme_color},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("van-pane",{attrs:{label:"精选",name:"featured"}}),e._v(" "),a("van-pane",{attrs:{label:"综合",name:"multiple"}})],1):e._e(),e._v(" "),a("DetailFeaturedPanel",{directives:[{name:"show",rawName:"v-show",value:"featured"===e.activeTab,expression:"activeTab === 'featured'"}],attrs:{active:e.activeTab,tabSorts:e.featuredOptions,name:e.bannerData.name,themeColor:e.bannerData.theme_color}}),e._v(" "),a("DetailMultiplePanel",{directives:[{name:"show",rawName:"v-show",value:"multiple"===e.activeTab,expression:"activeTab === 'multiple'"}],attrs:{active:e.activeTab,tabSorts:e.multipleOptions,name:e.bannerData.name,themeColor:e.bannerData.theme_color}})],1):e._e(),e._v(" "),e.isLoaded&&!e.bannerData?a("div",{staticClass:"empty-channel"},[a("img",{attrs:{src:n(113),alt:""}}),e._v(" "),a("p",[e._v("\n      没有这个频道呢，去"),a("router-link",{staticClass:"link",attrs:{to:{name:"Discovery"}}},[e._v("发现频道")]),e._v("里看看吧！\n    ")],1)]):e._e(),e._v(" "),a("BackTopBtn",{attrs:{target:".detail-page-container"}})],1)}),[],!1,null,"2d2b2f84",null).exports);k.default.use(Z.a);var ia=function(){return new Z.a({mode:"history",routes:[{path:"/v/channel",component:Rt,name:"Discovery"},{path:"/v/channel/search",component:Et,name:"Search"},{path:"/v/channel/type/:tid",component:Ht,name:"Category"},{path:"/v/channel/:id",component:aa,name:"Detail"},{path:"*",component:Rt}]})};n(261);function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(n,!0).forEach((function(t){ge()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.prototype.$isServer){var n=oa({preload:0},t),a=[],i="function"==typeof window.IntersectionObserver,r=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,n=e.target;t<=0||!n||(n.__lazy_handler__&&n.__lazy_handler__(),delete n.__lazy_handler__,r.unobserve(n))}))})),o=function(e){!i&&Oe(e,n.preload)&&(e.__lazy_handler__&&e.__lazy_handler__(),l(e))},s=Ce.throttle((function(){a.map(o)}),200),c=function(e){i?r.observe(e):(a.push(e),je(e).addEventListener("resize",s))},l=function(e){if(i)r.unobserve(e);else for(var t=0,n=a.length;t<n;t++)if(a[t]===e){a.splice(t,1),delete e.__lazy_handler__;break}};e.directive("checkload",{bind:function(e,t){e.__lazy_handler__=t.value,c(e)},inserted:function(e){o(e)},unbind:function(e){l(e)}})}}},ca=(n(262),[]),la=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"_readFromLocal",value:function(e){try{if(localStorage)return localStorage.getItem(e)}catch(e){return null}}},{key:"_saveToLocal",value:function(e,t){try{if(localStorage)return localStorage.setItem(e,t)}catch(e){return}}},{key:"read",value:function(){return this._readFromLocal("channel_search_history")&&"undefined"!=typeof JSON&&(ca=JSON.parse(this._readFromLocal("channel_search_history"))||[]),ca}},{key:"save",value:function(e){var t;if((t="object"==P()(e)?e:{value:e}).value&&t.value.trim()&&encodeURIComponent(t.value)){for(var n=(new Date).getTime(),a={value:t.value&&t.value.trim(),isHistory:1,timestamp:n},i=ca.length,r=!1,o=0;o<i;o++)if(ca[o].value==a.value){ca[o]=a,r=!0;break}r||(i<10?ca.push(a):ca[i-1]=a),ca=ca.sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0}));try{this._saveToLocal("channel_search_history",JSON.stringify(ca))}catch(e){}}}},{key:"remove",value:function(e){for(var t=0;t<ca.length;t++)if(ca[t].value===e){ca.splice(t,1);try{this._saveToLocal("channel_search_history",JSON.stringify(ca))}catch(e){}break}}},{key:"clear",value:function(){this._saveToLocal("channel_search_history",[]),ca=[]}}]),e}(),ua=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},da=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fa=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).total=0,e}return ue()(t,e),ie()(t,[{key:"deleteItem",value:function(e){la.remove(e),this.$emit("update",e)}},{key:"clearAll",value:function(){la.clear(),this.$emit("update")}}]),t}(w.e);ua([Object(w.c)({default:-1}),da("design:type",Number)],fa.prototype,"focusIndex",void 0),ua([Object(w.c)({default:-1}),da("design:type",Array)],fa.prototype,"list",void 0);var pa=fa=ua([w.a],fa),va=(n(264),Object(xe.a)(pa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.list.length>0?n("ul",{staticClass:"search-history-panel"},[e._l(e.list,(function(t,a){return n("li",{key:a,staticClass:"history-item",class:e.focusIndex===a?"focus":""},[n("span",{staticClass:"item-value",on:{click:function(n){return e.$emit("handleClick",t.value)}}},[e._v(e._s(t.value))]),e._v(" "),n("i",{staticClass:"bilifont bili-icon_sousuo_yichu delete-icon",on:{click:function(n){return e.deleteItem(t.value)}}})])})),e._v(" "),n("div",{staticClass:"clear-btn",on:{click:e.clearAll}},[e._v("清空搜索历史")])],2):e._e()}),[],!1,null,"4792b399",null).exports),ha=n(125),ya=n.n(ha),ga=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ba=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ma=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).keyword="",e.showHistory=!1,e.focusIndex=-1,e.isFocus=!1,e.historyMax=la.read().length,e.historyList=la.read(),e}return ue()(t,e),ie()(t,[{key:"handleKeyword",value:function(e){e?this.showHistory=!1:(this.focusIndex=-1,this.isFocus&&(this.showHistory=!0,this.historyList=la.read()))}},{key:"onWatchRoute",value:function(e){"Search"!==e.name&&(this.keyword="")}},{key:"mounted",value:function(){this.keyword=this.$route.query&&this.$route.query.keyword,this.historyMax=la.read().length,la.save(this.keyword)}},{key:"clickOutside",value:function(){this.showHistory=!1,this.isFocus=!1}},{key:"handleFocus",value:function(){this.isFocus=!0,this.keyword||(this.showHistory=!0),this.historyMax=la.read().length}},{key:"handleSearch",value:function(){var e;-1!==this.focusIndex&&(this.keyword=null===(e=la.read()[this.focusIndex])||void 0===e?void 0:e.value);(la.read()[this.focusIndex]||this.keyword)&&(this.$router.push({name:"Search",query:{keyword:this.keyword}}).catch((function(e){})),la.save(this.keyword),this.historyMax=la.read().length)}},{key:"handleSearchItem",value:function(e){this.keyword=e,this.$router.push({name:"Search",query:{keyword:this.keyword}}).catch((function(e){})),this.showHistory=!1,this.isFocus=!1}},{key:"updateHistoryList",value:function(e){if(!e)return this.historyMax=0,this.focusIndex=-1,void(this.historyList=[]);this.historyMax=la.read().length,this.historyList=la.read(),this.focusIndex=-1}},{key:"focusPrev",value:function(){this.showHistory&&(this.focusIndex=Math.max(this.focusIndex-1,0))}},{key:"focusNext",value:function(){this.showHistory&&(this.focusIndex=Math.min(this.focusIndex+1,this.historyMax-1))}}]),t}(w.e);ga([Object(w.f)("keyword"),ba("design:type",Function),ba("design:paramtypes",[String]),ba("design:returntype",void 0)],ma.prototype,"handleKeyword",null),ga([Object(w.f)("$route"),ba("design:type",Function),ba("design:paramtypes",[Object]),ba("design:returntype",void 0)],ma.prototype,"onWatchRoute",null);var _a=ma=ga([Object(w.a)({components:{SearchHistoryPanel:va},directives:{ClickOutside:ya.a}})],ma),Ca=(n(265),Object(xe.a)(_a,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clickOutside,expression:"clickOutside"}],staticClass:"sidebar-search-container"},[a("div",{staticClass:"sidebar-search-bar"},[a("input",{directives:[{name:"model",rawName:"https://s1.hdslb.com/bfs/static/jinkela/channel-2020/v-model.trim",value:e.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"inner-input",attrs:{maxlength:32,placeholder:"搜索频道",type:"text"},domProps:{value:e.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)},focus:e.handleFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.focusPrev())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.focusNext())}],input:function(t){t.target.composing||(e.keyword=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("img",{staticClass:"search-icon",attrs:{src:n(263),alt:"搜索"},on:{click:e.handleSearch}})]),e._v(" "),a("SearchHistoryPanel",{directives:[{name:"show",rawName:"v-show",value:e.showHistory,expression:"showHistory"}],staticClass:"history-panel",attrs:{list:e.historyList,focusIndex:e.focusIndex},on:{update:e.updateHistoryList,handleClick:e.handleSearchItem}})],1)}),[],!1,null,"cbc4fb6a",null).exports),wa=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ka=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Oa=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).maxHeight=0,e.panelShow=!1,e}return ue()(t,e),ie()(t,[{key:"handleLogin",value:function(e){e||(this.panelShow=!0)}},{key:"handleList",value:function(e){var t=this;(null==e?void 0:e.length)&&(this.$nextTick((function(){t.maxHeight=t.panel.scrollHeight})),setTimeout((function(){0===t.subscribeTotal&&(t.panelShow=!0)}),800))}},{key:"handle",value:function(e){var t=this;0===e&&this.list.length&&this.$nextTick((function(){t.panelShow=!0}))}},{key:"goDiscoveryPage",value:function(){"Discovery"!==this.$route.name&&this.$router.push({name:"Discovery"})}},{key:"goChannelListPage",value:function(e){if(e!==Number(this.$route.params.tid)){this.$router.push({name:"Category",params:{tid:e.toString()}});var t=document.querySelector(".category-container");t&&(t.scrollTop=0)}}},{key:"formatCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _e.formatSubscribeCount(e)}},{key:"computedHeight",get:function(){return this.panelShow?"".concat(this.maxHeight,"px"):"120px"}}]),t}(w.e);wa([Object(w.c)(),ka("design:type",Array)],Oa.prototype,"list",void 0),wa([Object(w.c)(),ka("design:type",Boolean)],Oa.prototype,"isLogin",void 0),wa([Object(w.d)(),ka("design:type",HTMLElement)],Oa.prototype,"panel",void 0),wa([Object(fe.b)("subscribeTotal"),ka("design:type",Object)],Oa.prototype,"subscribeTotal",void 0),wa([Object(w.f)("isLogin"),ka("design:type",Function),ka("design:paramtypes",[Object]),ka("design:returntype",void 0)],Oa.prototype,"handleLogin",null),wa([Object(w.f)("list"),ka("design:type",Function),ka("design:paramtypes",[Object]),ka("design:returntype",void 0)],Oa.prototype,"handleList",null),wa([Object(w.f)("subscribeTotal"),ka("design:type",Function),ka("design:paramtypes",[Object]),ka("design:returntype",void 0)],Oa.prototype,"handle",null);var ja=Oa=wa([w.a],Oa),Aa=(n(266),Object(xe.a)(ja,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discovery-panel"},[n("div",{staticClass:"discovery-panel__title",class:{"discovery-panel__title--active":"Discovery"===e.$route.name},on:{click:e.goDiscoveryPage}},[n("span",[e._v("发现频道")]),e._v(" "),n("span",{staticClass:"iconfont"},[e._v("")])]),e._v(" "),e.list&&e.list.length?n("div",{ref:"panel",staticClass:"discovery-panel__content",style:{height:e.computedHeight}},e._l(e.list,(function(t,a){return n("div",{key:a,staticClass:"content-item",class:{"content-item--active":t.id===Number(e.$route.params.tid)||t.id===Number(e.$route.query.cid)},on:{click:function(n){return e.goChannelListPage(t.id)}}},[n("span",{staticClass:"content-item__name",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"content-item__count"},[e._v(e._s(e.formatCount(t.channel_count)))])])})),0):e._e(),e._v(" "),e.list.length>6?n("div",{staticClass:"discovery-panel__toggle",on:{click:function(t){e.panelShow=!e.panelShow}}},[e._v(e._s(e.panelShow?"收起":"展开")+"\n    "),n("span",{staticClass:"iconfont",class:{"arrow-up":!e.panelShow,"arrow-down":e.panelShow}},[e._v("")])]):e._e()])}),[],!1,null,"2041194a",null).exports),Ra=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Sa=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},La=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).mySubscribeList=[],e.isLoaded=!1,e.isEditMode=!1,e}var n;return ue()(t,e),ie()(t,[{key:"handleList",value:function(e){this.mySubscribeList=JSON.parse(JSON.stringify(e)),this.isLoaded=!0}},{key:"clickItem",value:function(e,t){this.isEditMode?this.moveItemTop(e,t):(this.removeRedTag(e.id),this.goChannelPage(e.id,"subscribe"))}},{key:"openLogin",value:function(){Te.openQuickLoginPanel()}},{key:"removeRedTag",value:function(e){this.mySubscribeList.find((function(t){return t.id===e})).updated_count=0}},{key:"moveItemTop",value:function(e,t){0!==t&&(e.isTop=!0,this.mySubscribeList.unshift(this.mySubscribeList.splice(t,1)[0]))}},{key:"save",value:(n=ne()(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEditMode=!this.isEditMode,!this.isEditMode){e.next=3;break}return e.abrupt("return");case 3:return t=this.stringfyList(this.mySubscribeList,!0),n=this.stringfyList(this.mySubscribeList,!1),e.prev=5,e.next=8,Me.sortSubscribeList(t,n);case 8:if(0===(a=e.sent).code){e.next=13;break}return this.mySubscribeList=JSON.parse(JSON.stringify(this.orginList)),this.$message.error(a.message||"保存失败，稍后重试"),e.abrupt("return");case 13:this.$message.info("保存成功！"),this.$emit("update",this.mySubscribeList),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),this.$message.error("保存失败，稍后重试"),this.mySubscribeList=JSON.parse(JSON.stringify(this.orginList));case 21:case"end":return e.stop()}}),e,this,[[5,17]])}))),function(){return n.apply(this,arguments)})},{key:"stringfyList",value:function(e,t){return e.filter((function(e){return t?e.isTop:!e.isTop})).map((function(e){return e.id})).join(",")}},{key:"isLogin",get:function(){return this.user.isLogin}},{key:"originTopListString",get:function(){return this.stringfyList(this.orginList,!0)}},{key:"originNormalListString",get:function(){return this.stringfyList(this.orginList,!1)}}]),t}(Object(w.b)(he));Ra([Object(w.c)(),Sa("design:type",Object)],La.prototype,"orginList",void 0),Ra([Object(fe.b)("user"),Sa("design:type",N)],La.prototype,"user",void 0),Ra([Object(fe.b)("myChannelData"),Sa("design:type",Object)],La.prototype,"myChannelData",void 0),Ra([Object(fe.b)("subscribeTotal"),Sa("design:type",Object)],La.prototype,"subscribeTotal",void 0),Ra([Object(w.f)("orginList"),Sa("design:type",Function),Sa("design:paramtypes",[Array]),Sa("design:returntype",void 0)],La.prototype,"handleList",null);var xa=La=Ra([w.a],La),Da=(n(268),Object(xe.a)(xa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"subscribe-panel"},[a("div",{staticClass:"subscribe-panel__title"},[a("div",[a("span",{staticClass:"text"},[e._v("我的订阅")]),e._v(" "),e.isLogin&&e.subscribeTotal?a("span",{staticClass:"count"},[e._v(e._s(e.subscribeTotal))]):e._e()]),e._v(" "),e.isLogin&&e.subscribeTotal?a("span",{staticClass:"btn",on:{click:e.save}},[e._v(e._s(e.isEditMode?"保存":"管理"))]):e._e()]),e._v(" "),null!==e.isLogin&&e.isLogin?a("div",{staticClass:"subscribe-panel__content"},[e._l(e.mySubscribeList,(function(t,i){return a("div",{key:i,class:{"subscribe-item--active":t.id.toString()===e.$route.params.id},attrs:{title:t.name},on:{click:function(n){return e.clickItem(t,i)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.ctype,expression:"item.ctype === 2"}],staticClass:"subscribe-item"},[a("van-image",{staticClass:"cover",attrs:{src:t.cover,options:{c:1,q:100},width:"30",height:"30"}}),e._v(" "),a("div",{staticClass:"name",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),e.isEditMode?a("img",{staticClass:"move-icon",attrs:{src:n(267),alt:""}}):e._e(),e._v(" "),!e.isEditMode&&t.updated_count>0?a("span",{staticClass:"red-tag"}):e._e()],1)])})),e._v(" "),e.isLoaded&&!e.subscribeTotal?a("div",{staticClass:"empty-hint"},[e._v("\n      您暂无订阅频道，快去发现看看吧～\n    ")]):e._e()],2):e._e(),e._v(" "),null===e.isLogin||e.isLogin?e._e():a("div",{staticClass:"subscribe-panel__login"},[a("p",{staticClass:"hint"},[e._v("登录查看订阅信息哦～")]),e._v(" "),a("div",{staticClass:"login-btn",on:{click:e.openLogin}},[e._v("登录")])])])}),[],!1,null,"1293d180",null).exports),Pa=function(){function e(){x()(this,e)}var t,n;return ie()(e,null,[{key:"getCategoryList",value:(n=ne()(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface/web/channel/category/list"});case 3:return n=e.sent,a=n.data,t.code=a.code,t.message=a.message,0===a.code?t.data=a.data.categories:t.data=[],e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getSubscribeList",value:(t=ne()(ee.a.mark((function e(){var t,n,a,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:null,code:null,message:null},e.next=3,H.request({method:"get",url:"//api.bilibili.com/x/web-interface/web/channel/subscribe/list"});case 3:return n=e.sent,a=n.data,t.code=a.code,t.message=a.message,i=a.data.stick_channels.map((function(e){return e.isTop=!0,e})),r=a.data.normal_channels.map((function(e){return e.isTop=!1,e})),0===a.code?t.data={total:a.data.total,stick_channels:i,normal_channels:r}:t.data={total:0,stick_channels:[],normal_channels:[]},e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Ia=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ta=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ma=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).categoryList=[],e.total=null,e}var n,a;return ue()(t,e),ie()(t,[{key:"handleLogin",value:function(e){e&&this.loadSubscribeList()}},{key:"loadCategoryList",value:(a=ne()(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa.getCategoryList();case 3:t=e.sent,n=t.data,this.categoryList=n.filter((function(e){return 100!==e.id})),this.setCategoryList(this.categoryList),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:"loadSubscribeList",value:(n=ne()(ee.a.mark((function e(){var t,n,a,i,r,o=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa.getSubscribeList();case 3:t=e.sent,n=t.data,a=n.stick_channels.map((function(e){return o.$set(e,"isTop",!0),e})),i=a.concat(n.normal_channels),this.setSubscribeChannelList(i),this.total=i.filter((function(e){return 2===e.ctype})).length,(r=i.filter((function(e){return 2===e.ctype})).findIndex((function(e){return e.id===Number(o.$route.params.id)})))>5&&this.$nextTick((function(){yt.scrollYWithAnimation(o.sidebar,46*r+1,.15)})),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return n.apply(this,arguments)})},{key:"handleUpdate",value:function(e){this.setSubscribeChannelList(e)}},{key:"mounted",value:function(){this.loadCategoryList()}},{key:"isLogin",get:function(){return this.user.isLogin}},{key:"channelId",get:function(){return this.$route.params.id}}]),t}(w.e);Ia([Object(w.d)(),Ta("design:type",HTMLElement)],Ma.prototype,"sidebar",void 0),Ia([Object(fe.a)("SET_MY_CHANNEL_LIST"),Ta("design:type",Object)],Ma.prototype,"setSubscribeChannelList",void 0),Ia([Object(fe.a)("SET_CATEGORY_LIST"),Ta("design:type",Object)],Ma.prototype,"setCategoryList",void 0),Ia([Object(fe.b)("myChannelData"),Ta("design:type",Object)],Ma.prototype,"myChannelData",void 0),Ia([Object(fe.b)("subscribeTotal"),Ta("design:type",Object)],Ma.prototype,"subscribeTotal",void 0),Ia([Object(fe.b)("user"),Ta("design:type",N)],Ma.prototype,"user",void 0),Ia([Object(w.f)("isLogin"),Ta("design:type",Function),Ta("design:paramtypes",[Boolean]),Ta("design:returntype",void 0)],Ma.prototype,"handleLogin",null);var Na,Ea=Ma=Ia([Object(w.a)({components:{SearchBar:Ca,DiscoveryPanel:Aa,SubscribePanel:Da}})],Ma),Ba=(n(269),n(270),Object(xe.a)(Ea,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"sidebar",staticClass:"channel-sidebar"},[t("SearchBar"),this._v(" "),t("DiscoveryPanel",{attrs:{list:this.categoryList,isLogin:this.isLogin}}),this._v(" "),t("SubscribePanel",{attrs:{orginList:this.myChannelData},on:{update:this.handleUpdate}})],1)}),[],!1,null,"0177db62",null).exports);!function(e){e[e.Large=1286]="Large",e[e.Medium=1070]="Medium",e[e.Small=890]="Small"}(Na||(Na={}));var za=function(){function e(){x()(this,e)}return ie()(e,null,[{key:"calcScreenSize",value:function(){var e=document.body.clientWidth||window.screen.width||window.innerWidth||1200;return e>=1574&&e<1790?"Medium":e>=1790?"Large":"Small"}}]),e}(),Fa=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},$a=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};w.a.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var Ha=function(e){function t(){var e;return x()(this,t),(e=oe()(this,ce()(t).apply(this,arguments))).screenSize=null,e}var n;return ue()(t,e),ie()(t,[{key:"calcScreenSize",value:function(){this.screenSize=za.calcScreenSize(),this.setScreenSize(this.screenSize)}},{key:"mounted",value:(n=ne()(ee.a.mark((function e(){var t,n,a,i,r=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.addEventListener("resize",this.calcScreenSize),this.calcScreenSize(),!(null===(t=window)||void 0===t?void 0:t.onLoginInfoLoaded)){e.next=5;break}return window.onLoginInfoLoaded((function(e){r.setUserData({isLogin:e.isLogin,mid:e.mid})}),!0),e.abrupt("return");case 5:return e.prev=5,e.next=8,Te.getLogin();case 8:i=e.sent,this.setUserData({isLogin:null==i||null===(n=i.data)||void 0===n?void 0:n.isLogin,mid:null==i||null===(a=i.data)||void 0===a?void 0:a.mid}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(){return n.apply(this,arguments)})}]),t}(w.e);Fa([Object(fe.a)("SET_SCREEN_SIZE"),$a("design:type",Object)],Ha.prototype,"setScreenSize",void 0),Fa([Object(fe.a)("SET_USER_DATA"),$a("design:type",Object)],Ha.prototype,"setUserData",void 0);var Wa=Ha=Fa([Object(w.a)({components:{Sidebar:Ba}})],Ha),Qa=(n(271),Object(xe.a)(Wa,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Sidebar"),this._v(" "),t("router-view",{attrs:{id:"container"}})],1)}),[],!1,null,null,null).exports);k.default.use(sa),k.default.use(C.a),k.default.use(m.a),k.default.use(g.a),k.default.use(h.a),k.default.use(p.a),k.default.use(d.a),k.default.use(l.a),k.default.prototype.$confirm=s.a.confirm,k.default.use(j.a),k.default.prototype.$message=r.a,k.default.use(O.a),k.default.component(z.a.FlowLoader.name,z.a.FlowLoader),k.default.prototype.$bfs=new Gt.default({fuzzyMatch:!1});var Ya=window.Sentry,Ua=Ya.BrowserClient,Va=Ya.Integrations,Ga=new Ua({dsn:"".concat("https","://1770ab9b754b462fab32b05a9fbcb974@api.bilibili.com/x/traceback/92"),debug:!1,release:"5a513bc7675306a9bab99b0508aabf26b1a92401",environment:"production",sampleRate:1,integrations:[new Va.Vue({Vue:k.default,attachProps:!0,logErrors:!1})]});window.Sentry.getCurrentHub().bindClient(Ga),k.default.mixin({beforeRouteUpdate:function(e,t,n){var a=this.$options.asyncData;a?a({store:this.$store,route:e}).then(n).catch(n):n()}});var Ja,qa,Ka=(Ja=K(),qa=ia(),{app:new k.default({store:Ja,router:qa,render:function(e){return e(Qa)}}),router:qa,store:Ja}),Za=Ka.app,Xa=Ka.router,ei=Ka.store;if(window.__INITIAL_STATE__)ei.replaceState(window.__INITIAL_STATE__);else{var ti=Xa.getMatchedComponents();if(!ti){var ni=new Error("404 Not Found");throw ni.status=404,ni}Promise.all(ti.map((function(e){return e.asyncData&&e.asyncData(ei,{})}))).then((function(){Za.$mount("#channel-2020-app")})).catch((function(e){console.error(e)}))}Xa.onReady((function(){window&&window.document.getElementById("app")&&Za.$mount("#app")}))}]));
//# sourceMappingURL=channel-2020.5a513bc7675306a9bab99b0508aabf26b1a92401.js.map