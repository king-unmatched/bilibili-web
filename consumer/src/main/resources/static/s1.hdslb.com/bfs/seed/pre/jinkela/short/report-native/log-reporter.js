window.webpackLogReporter=function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={0:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,s=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+""+({}[e]||e)+"."+{1:"549bc",2:"f6fd9",3:"08f2b",4:"0b87e",5:"36f87",6:"80d31",7:"60091"}[e]+".function.chunk.js"}(e),a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"https://s1.hdslb.com/bfs/seed/pre/jinkela/short/report-native/===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,s.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="//s1.hdslb.com/bfs/seed/jinkela/short/report-native/",i.oe=function(e){throw e};var o=window.webpackJsonpwebpackLogReporter=window.webpackJsonpwebpackLogReporter||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=a;return i(i.s=80)}([function(e,t,n){"use strict";var r=n(7);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a={getSpmPrefix:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_prefix"===e[t].getAttribute("name"))return e[t].getAttribute("content");return""},getEventPrefix:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("event_prefix"===e[t].getAttribute("name"))return e[t].getAttribute("content");return""},supportNative:function(){return!!(r.inBiliApp||window.biliSpInject&&window.biliSpInject.setPVInfo)&&(Object(r.initEnv)(),!0)},getPType:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_ptype"===e[t].getAttribute("name"))return e[t].getAttribute("content")},assignObject:function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i in n[0])"function"!=typeof n[0][i]&&(e[i]=n[0][i]);for(var o=1;o<n.length;o++){var a=n[o];for(var i in a)"function"!=typeof a[i]&&(e[i]=a[i])}return e},cloneObj:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t,n=e.constructor===Array?[]:{};if("object"===i(e)){if(window.JSON)t=JSON.stringify(e),n=JSON.parse(t);else for(var r in e)n[r]="object"===i(e[r])?cloneObj(e[r]):e[r];return n}}),isEmptyObject:function(e){for(var t in e)return!1;return!0},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},setCookie:function(e,t,n,r){var i=new Date;return i.setTime(i.getTime()+1e3*n),document.cookie=e+"="+escape(t)+";expires="+i.toGMTString()+(r?";domain=".concat(r,";path=/"):""),t},getQueryParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},addQueryParam:function(e,t,n){var r="";e.indexOf("#")>=0&&(r=e.split("#")[1],e=e.split("#")[0]);var i=e.split("?")[1],o=e.split("?")[0],a=new RegExp("(^|&)("+t+")=[^&]*");return a.test(i)?o+"?"+(i=i.replace(a,"$1$2="+n))+(""===r?"":"#"+r):o+"?"+(i?i+"&":"")+t+"="+n+(r?"#"+r:"")},throttleV2:function(e,t,n,r){var i,o=null;return function(){var a=this,s=arguments,c=+new Date;clearTimeout(o),r&&"function"==typeof r&&r(),i||(i=c),c-i>=n?(e.apply(a,s),i=c):o=setTimeout(function(){e.apply(a,s)},t)}},isIE:function(e){var t=document.createElement("b");return t.innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length},hexEncode:function(e){for(var t="",n=e.length,r=0;r<n;r++){t+=e.charCodeAt(r).toString(16)}return"b_"+t},myBrowser:function(){var e=navigator.userAgent;if(e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1)return"Chrome";if(e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"))return"Safari";var t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Edge")>-1?"Edge":e.indexOf("Firefox")>-1?"FF":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?(new RegExp("MSIE (\\d+\\.\\d+);").test(e),"IE"+parseFloat(RegExp.$1)):e},splitUrlArgs:function(e){return e.indexOf("?")>-1?{path:e.split("?")[0],args:e.split("?")[1]}:{path:e,args:""}}}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(13);n(7);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e),this.requestQueue=[],this.currentPool=[],this.requestLimit=6,this.msgObjects=[],location.href.indexOf("bilihttps")>-1?(this.baseURL="https://data.bilibili.com/log/web",this.errorReportURL="https://dataflow.biliapi.com/log/web"):(this.baseURL="//data.bilibili.com/log/web",this.errorReportURL="//dataflow.biliapi.com/log/web"),this.spmPrefix=i.a.getSpmPrefix(),this.eventPrefix=i.a.getEventPrefix(),this.ptype=o.a.ptype(),this.supportH5=!1,this.nativeOnly=!1,this.laboratory=i.a.getCookie("laboratory"),this.initLoginIdConfig(),this.updateConfig()}var t,n,s;return t=e,(n=[{key:"initLoginIdConfig",value:function(){this.loginIdConfig={appear:"000016",click:"000017",pv:"000014",abtest:"001449",performance:"000015",h5_selfDef:"000080",errorLog:"002203"},this.eventType={pv:1,click:2,appear:3,show:3,errorLog:0,performance:5}}},{key:"updateConfig",value:function(){var e=this.loginIdConfig,t=(new Date).getTime().toString(),n=encodeURIComponent(window.location.href),r=window.innerWidth||document.body.clientWidth,o=window.innerHeight||document.body.clientHeight;this.msgConfig={common:{loginId:"",url:n,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:i.a.getCookie("fts")?i.a.getCookie("fts"):"",browser_resolution:r+"x"+o,ptype:this.ptype},appear:{loginId:e.appear+t,url:n,spm_id:this.spmPrefix+".0.0",timestamp:t,browser_resolution:r+"x"+o,ptype:this.ptype,msg:"",language:"",abtest:window.abtest?window.abtest:JSON.stringify({})},click:{loginId:e.click+t,url:n,spm_id:this.spmPrefix+".0.0",target_url:"",timestamp:t,screenx:"",screeny:"",browser_resolution:r+"x"+o,ptype:this.ptype,msg:"",abtest:window.abtest?window.abtest:JSON.stringify({}),refer_url:document.referrer?encodeURIComponent(document.referrer):"",_uuid:i.a.getCookie("_uuid"),language:navigator.language,laboratory:this.laboratory},pv:{loginId:e.pv+t,url:n,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:i.a.getCookie("fts")?i.a.getCookie("fts"):"",browser_resolution:r+"x"+o,ptype:this.ptype,msg:"",abtest:window.abtest?window.abtest:JSON.stringify({}),_uuid:i.a.getCookie("_uuid"),language:navigator.language,laboratory:this.laboratory,loadType:0},abtest:{loginId:e.abtest+t,url:n,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:i.a.getCookie("fts")?i.a.getCookie("fts"):"",browser_resolution:r+"x"+o,ptype:this.ptype,msg:"",abtest:window.abtest?window.abtest:JSON.stringify({}),_uuid:i.a.getCookie("_uuid")},performance:{loginId:e.performance+t,url:n,spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",browser_resolution:r+"x"+o,navigationStart:"",unloadEventStart:"",unloadEventEnd:"",redirectStart:"",redirectEnd:"",fetchStart:"",domainLookupStart:"",domainLookupEnd:"",connectStart:"",connectEnd:"",secureConnectionStart:"",requestStart:"",responseStart:"",responseEnd:"",domLoading:"",domInteractive:"",domContentLoadedEventStart:"",domContentLoadedEventEnd:"",domComplete:"",loadEventStart:"",loadEventEnd:"",firstscreenfinish:"",ptype:this.ptype,msg:""},h5_selfDef:{loginId:e.h5_selfDef+t,url:n,refer_url:document.referrer?encodeURIComponent(document.referrer):"",spm_id:this.spmPrefix+".0.0",timestamp:t,fts:i.a.getCookie("fts")?i.a.getCookie("fts"):"",browser_resolution:r+"x"+o,ptype:this.ptype,avid:0,bsource:"default",args:void 0,abtest:1},errorLog:{loginId:e.errorLog+t,msg:""}}}},{key:"setSupportH5",value:function(e){this.supportH5=!0,this.h5reporter=e}},{key:"setSupportTryCatch",value:function(e){this.supportTryCatch=!0,this.errorReporter=e}},{key:"setNativeOnly",value:function(){this.nativeOnly=!0}},{key:"setSearchPage",value:function(){var e=(new Date).getTime();this.secondMsgConfig=i.a.cloneObj(this.msgConfig),this.secondMsgConfig.click.loginId="000045"+e,this.secondMsgConfig.pv.loginId="000043"+e,this.secondMsgConfig.performance.loginId="000044"+e,delete this.secondMsgConfig.pv.abtest,delete this.secondMsgConfig.click.abtest,delete this.secondMsgConfig.errorLog,delete this.secondMsgConfig.appear,delete this.secondMsgConfig.h5_selfDef}},{key:"setSPM_id",value:function(e){this.spmPrefix=e,this.updateConfig()}},{key:"transporter",value:function(e){this.msgObjects.push(e)}},{key:"sendUnloadEvent",value:function(){var e={screenx:0,screeny:0};e.timestamp=Date.parse(new Date),e.spm_id=this.spmPrefix+".selfDef.unload",e.target_url="",this.receiveMsg({type:"click",obj:e})}},{key:"checkRequests",value:function(){this.checkMsgObjects(),this.checkrequestPool()}},{key:"checkMsgObjects",value:function(){if(0!==this.msgObjects.length)for(var e in this.msgObjects){var t=this.msgObjects[e];for(var n in t){var r={screenx:0,screeny:0};if(r.timestamp=Date.parse(new Date),r.url=encodeURIComponent(window.location.href),this.supportH5&&("click"===n||"pv"===n))return"click"===n?r.spm_id=this.spmPrefix+".click."+t[n]:"pv"===n&&(r.spm_id=this.spmPrefix+".pv."+t[n]),delete t[n],void this.h5reporter.send(r);if(this.supportTryCatch&&"tryCatchError"===n)return this.errorReporter.tryCatchError(t[n]),void delete t[n];r.spm_id=this.spmPrefix+".selfDef."+n,r.target_url="";var i={};i.event=n,i.value=t[n];var o=JSON.stringify(i);r.msg=o.replace(/"/g,"%22"),delete t[n];var a={type:"click",obj:r};this.receiveMsg(a)}}}},{key:"checkrequestPool",value:function(){if(0!==this.requestQueue.length){var e=this.requestQueue.length;e>this.requestLimit?(this.currentPool=this.requestQueue.splice(0,this.requestLimit),this.sendGroupMsg()):e>0&&(this.currentPool=this.requestQueue.splice(0,e),this.sendGroupMsg())}}},{key:"forceFlush",value:function(){this.checkRequests()}},{key:"reportWithAdditionalParam",value:function(e){var t=i.a.assignObject(this.msgConfig.common,e);this.sendMsg(t,"common")}},{key:"reportWithSpmPrefix",value:function(e,t,n){if(e&&t){var r={screenx:0,screeny:0};r.timestamp=Date.parse(new Date),r.url=encodeURIComponent(window.location.href),r.spm_id=e+".selfDef."+t,r.target_url="";var i={event:t,value:n};r.msg=JSON.stringify(i).replace(/"/g,"%22"),this.receiveMsg({type:"click",obj:r})}}},{key:"receiveMsg",value:function(e){var t=e.type;e=e.obj;var n=i.a.assignObject(this.msgConfig[t],e);if(this.sendMsg(n,t),this.secondMsgConfig&&this.secondMsgConfig[t]){var r=i.a.assignObject(this.secondMsgConfig[t],e);this.sendMsg(r,t)}}},{key:"receiveGroupMsg",value:function(e){var t=e.type;e=e.obj;var n=i.a.assignObject(this.msgConfig[t],e);if(this.requestQueue.push({type:t,obj:n}),this.secondMsgConfig&&this.secondMsgConfig[t]){var r=i.a.assignObject(this.secondMsgConfig[t],e);this.requestQueue.push({type:t,obj:r})}}},{key:"sendMsg",value:function(e,t){var n="";for(var r in e){n+=("function"==typeof e[r]?e[r].call(this):e[r])+"|"}n=(n=n.substring(0,n.length-1)).replace(/\|/,""),i.a.supportNative()&&this.eventPrefix&&this.reportNative(e,t),this.nativeOnly||this.reportHttp(e,n)}},{key:"reportHttp",value:function(e,t){0===e.loginId.indexOf(this.loginIdConfig.click)||0===e.loginId.indexOf(this.loginIdConfig.h5_selfDef)?r.a.useBeacon(this.baseURL,t):0===e.loginId.indexOf(this.loginIdConfig.errorLog)?(t=t.replace(/\|/,""),r.a.sendGetRequest(this.errorReportURL,t)):r.a.sendGetRequest(this.baseURL,t)}},{key:"reportEventId",value:function(e,t){var n=e.split("."),i=n[n.length-1],o={event:e,params:t,type:this.eventType[i]||0};r.a.reportNative(o)}},{key:"reportNative",value:function(e,t){var n;if("errorLog"===t){n=this.eventPrefix+".feerror.other";var i=JSON.parse(e.msg);i.loginId=e.loginId,i.spm_id=this.spmPrefix+".feerror",e=i}else{var o=e.spm_id.split("."),a=this.eventPrefix.split(".");o[0]=a[0],o[1]=a[1];n="performance"===t?this.eventPrefix+".bhperformance.tracker":o.join(".")+"."+({pv:"pv",click:"click",appear:"show",performance:"tracker"}[t]||"other"),e.userAgent=navigator.userAgent}var s=this.eventType[t]||0,c={event:n,params:JSON.stringify(e),type:s};"performance"===t&&(c.label="webviewTracker"),r.a.reportNative(c,1===s)}},{key:"sendGroupMsg",value:function(){var e=this;0!==this.currentPool.length&&this.currentPool.forEach(function(t){e.sendMsg(t.obj,t.type)})}}])&&a(t.prototype,n),s&&a(t,s),e}();t.a=new s},function(e,t,n){var r=n(32)("wks"),i=n(22),o=n(3).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(0),i=n(7);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e)}var t,n,a;return t=e,(n=[{key:"contructor",value:function(){this.ie8=r.a.isIE(8),this.ie9=r.a.isIE(9)}},{key:"useBeacon",value:function(e,t,n){if(navigator.sendBeacon){var r="?"+t;navigator.sendBeacon(e+r)}else this.sendGetRequest(e,t,n)}},{key:"sendPostRequest",value:function(e,t){var n=new XMLHttpRequest;n.open("post",e,!0),n.onreadystatechange=function(e){if(4===this.readyState&&200===this.status)this.responseText},n.ontimeout=function(e){},n.onerror=function(e){},n.send(t)}},{key:"sendGetRequest",value:function(e,t,n){var r="?"+t;if(window.XDomainRequest){var i=new XDomainRequest;i&&(i.onload=function(){n&&"function"==typeof n&&n.call(window)},i.ontimeout=function(){},i.onerror=function(e){},i.open("get",e+r),i.send())}else{var o=new XMLHttpRequest;o.open("GET",e+r,!0),o.withCredentials=!0,o.onreadystatechange=function(e){4==this.readyState&&200==this.status&&n&&"function"==typeof n&&n.call(window)},o.ontimeout=function(e){},o.onerror=function(e){},o.send()}}},{key:"ajax",value:function(e){(e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json";var t,n=function(e,t){var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t||n.push(("v="+Math.random()).replace(".","")),n.join("&")}(e.data,e.cache);if(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.noCredentials||(t.withCredentials=!0),t.onreadystatechange=function(){if(4===t.readyState){var n=t.status;if(n>=200&&n<300){var r;try{r=JSON.parse(t.responseText)}catch(e){r=t.responseText}e.success&&e.success(r,t.responseXML)}else e.fail&&e.fail(n)}},"GET"===e.type){var r=n?e.url+"?"+n:e.url;t.open("GET",r,!0),t.send(null)}else"POST"===e.type&&(t.open("POST",e.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n));return t}},{key:"reportNative",value:function(e,t){r.a.supportNative()&&(t&&window.biliSpInject&&"function"==typeof window.biliSpInject.setPVInfo?window.biliSpInject.setPVInfo(JSON.stringify({data:{event:e.event,params:e.params}})):Object(i.isSupport)("ability.reportEventV3").then(function(t){t&&i.biliBridge.callNative({method:"ability.reportEventV3",data:e})}))}}])&&o(t.prototype,n),a&&o(t,a),e}();t.a=new a},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){(function(n){var r,i,o,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){"use strict";var t="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};var r,i,o,a=(function(e){!function(){var n,r,i,o=null,a="object"===("undefined"==typeof window?"undefined":s(window)),c=a?window:t,u=c.Promise,f=c.process,l=c.console,p=!1,d=Array,h=Error,v=1,g=2,m=3,y="Symbol",w="iterator",b="species",k=y+"("+b+")",x="return",_="_uh",S="_pt",C="_st",P="Invalid argument",O="\nFrom previous ",j="Chaining cycle detected for promise",T="rejectionHandled",E="unhandledRejection",M={e:o},B=function(){},I=/^.+\/node_modules\/yaku\/.+\n?/gm,L=function(e){var t;if(!A(this)||this._s!==n)throw F("Invalid this");if(this._s=m,p&&(this[S]=V()),e!==B){if(!q(e))throw F(P);(t=D(e)(K(this,g),K(this,v)))===M&&ee(this,v,t.e)}};function R(){return L[y][b]||k}function A(e){return e&&"object"===s(e)}function q(e){return"function"==typeof e}function N(e,t){return e instanceof t}function U(e,t,n){if(!t(e))throw F(n)}function J(){try{return r.apply(i,arguments)}catch(e){return M.e=e,M}}function D(e,t){return r=e,i=t,J}function Q(e,t){var r=d(e),i=0;function o(){for(var o=0;o<i;)t(r[o],r[o+1]),r[o++]=n,r[o++]=n;i=0,r.length>e&&(r.length=e)}return function(e,t){r[i++]=e,r[i++]=t,2===i&&L.nextTick(o)}}function H(e,t){var n,r,i,o,a=0;if(!e)throw F(P);var s=e[L[y][w]];if(q(s))r=s.call(e);else{if(!q(e.next)){if(N(e,d)){for(n=e.length;a<n;)t(e[a],a++);return a}throw F(P)}r=e}for(;!(i=r.next()).done;)if((o=D(t)(i.value,a++))===M)throw q(r[x])&&r[x](),o.e;return a}function F(e){return new TypeError(e)}function V(e){return(e?"":O)+(new h).stack}L.default=L,function(e,t){for(var n in t)e[n]=t[n]}(L.prototype,{then:function(e,t){if(void 0===this._s)throw F();return function(e,t,n,r){q(n)&&(t._onFulfilled=n);q(r)&&(e[_]&&z(T,e),t._onRejected=r);p&&(t._p=e);e[e._c++]=t,e._s!==m&&G(e,t);return t}(this,$(L.speciesConstructor(this,L)),e,t)},catch:function(e){return this.then(n,e)},finally:function(e){return this.then(function(t){return L.resolve(e()).then(function(){return t})},function(t){return L.resolve(e()).then(function(){throw t})})},_c:0,_p:o}),L.resolve=function(e){return X(e)?e:te($(this),e)},L.reject=function(e){return ee($(this),v,e)},L.race=function(e){var t=this,n=$(t),r=function(e){ee(n,g,e)},i=function(e){ee(n,v,e)},o=D(H)(e,function(e){t.resolve(e).then(r,i)});return o===M?t.reject(o.e):n},L.all=function(e){var t,n=this,r=$(n),i=[];function o(e){ee(r,v,e)}return(t=D(H)(e,function(e,a){n.resolve(e).then(function(e){i[a]=e,--t||ee(r,g,i)},o)}))===M?n.reject(t.e):(t||ee(r,g,[]),r)},L.Symbol=c[y]||{},D(function(){Object.defineProperty(L,R(),{get:function(){return this}})})(),L.speciesConstructor=function(e,t){var n=e.constructor;return n&&n[R()]||t},L.unhandledRejection=function(e,t){l&&l.error("Uncaught (in promise)",p?t.longStack:Y(e,t))},L.rejectionHandled=B,L.enableLongStackTrace=function(){p=!0},L.nextTick=a?function(e){u?new u(function(e){e()}).then(e):setTimeout(e)}:f.nextTick,L._s=1;var G=Q(999,function(e,t){var r,i;(i=e._s!==v?t._onFulfilled:t._onRejected)!==n?(r=D(Z)(i,e._v))!==M?te(t,r):ee(t,v,r.e):ee(t,e._s,e._v)}),W=Q(9,function(e){(function e(t){if(t._umark)return!0;t._umark=!0;var n,r=0,i=t._c;for(;r<i;)if((n=t[r++])._onRejected||e(n))return!0})(e)||(e[_]=1,z(E,e))});function z(e,t){var n="on"+e.toLowerCase(),r=c[n];f&&f.listeners(e).length?e===E?f.emit(e,t._v,t):f.emit(e,t):r?r({reason:t._v,promise:t}):L[e](t._v,t)}function X(e){return e&&e._s}function $(e){return X(e)?new e(B):(t=new e(function(e,i){if(t)throw F();n=e,r=i}),U(n,q),U(r,q),t);var t,n,r}function K(e,t){var n=!1;return function(r){n||(n=!0,p&&(e[C]=V(!0)),t===g?te(e,r):ee(e,t,r))}}function Y(e,t){var n=[];function r(e){return n.push(e.replace(/^\s+|\s+$/g,""))}return p&&(t[C]&&r(t[C]),function e(t){t&&S in t&&(e(t._next),r(t[S]+""),e(t._p))}(t)),(e&&e.stack?e.stack:e)+("\n"+n.join("\n")).replace(I,"")}function Z(e,t){return e(t)}function ee(e,t,n){var r=0,i=e._c;if(e._s===m)for(e._s=t,e._v=n,t===v&&(p&&N(n,h)&&(n.longStack=Y(n,e)),W(e));r<i;)G(e,e[r++]);return e}function te(e,t){if(t===e&&t)return ee(e,v,F(j)),e;if(t!==o&&(q(t)||A(t))){var n=D(ne)(t);if(n===M)return ee(e,v,n.e),e;q(n)?(p&&X(t)&&(e._next=t),X(t)?re(e,t,n):L.nextTick(function(){re(e,t,n)})):ee(e,g,t)}else ee(e,g,t);return e}function ne(e){return e.then}function re(e,t,n){var r=D(n,t)(function(n){t&&(t=o,te(e,n))},function(n){t&&(t=o,ee(e,v,n))});r===M&&t&&(ee(e,v,r.e),t=o)}try{e.exports=L}catch(e){c.Yaku=L}}()}(r={exports:{}},r.exports),r.exports),c=Object.freeze({default:a,__moduleExports:a}),u=c&&a||c;function f(e){window.BiliJsBridge.biliInject.biliCallbackReceived||(window.BiliJsBridge.biliInject.biliCallbackReceived=function(e,t,n){var r=window.BiliJsBridge.callbacks.map(function(e){return e.callbackId}).indexOf(Number(e));r>=0&&window.BiliJsBridge.callbacks[r].callback&&window.BiliJsBridge.callbacks[r].callback(n||t)});var t=window.BiliJsBridge.biliInject.postMessage.bind(window.BiliJsBridge.biliInject);!function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&"callback"!==t&&(window.BiliJsBridge.callbacks.push({callbackId:window.BiliJsBridge.selfCallbackId,callback:e[t]}),e[t]="",e.data[t+"CallbackId"]=window.BiliJsBridge.selfCallbackId++)}(e),window.BiliJsBridge.callbacks.push({callbackId:window.BiliJsBridge.selfCallbackId,callback:e.callback}),window.selfBrowser.version.android?t(JSON.stringify({method:e.method,data:Object.assign(e.data,{callbackId:window.BiliJsBridge.selfCallbackId++})})):t({method:e.method,data:JSON.stringify(Object.assign(e.data,{callbackId:window.BiliJsBridge.selfCallbackId++}))})}"undefined"!=typeof window&&(window.Promise||(window.Promise=u)),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),"undefined"!=typeof window&&(window.selfBrowser||(window.selfBrowser={version:(o=navigator.userAgent,navigator.appVersion,{mobile:/AppleWebKit.*Mobile.*/i.test(o),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(o),android:/Android/i.test(o)||/Linux/i.test(o),windowsphone:/Windows Phone/i.test(o),iPhone:/iPhone/i.test(o),iPad:/iPad/i.test(o),webApp:!/Safari/i.test(o),MicroMessenger:/MicroMessenger/i.test(o),weibo:/Weibo/i.test(o),uc:/UCBrowser/i.test(o),qq:/MQQBrowser/i.test(o),baidu:/Baidu/i.test(o),mqq:/QQ\/([\d\.]+)/i.test(o),mbaidu:/baiduboxapp/i.test(o),iqiyi:/iqiyi/i.test(o),QQLive:/QQLive/i.test(o),Safari:(i=navigator.userAgent,!(!/ OS \d/.test(i)||~i.indexOf("CriOS")||i.indexOf("Mozilla")||!/Safari\/[\d\.]+$/.test(i))),Youku:/youku/i.test(o),chrome:/CriOS/i.test(o),CMDC:/CMDC/i.test(o),BiliApp:/BiliApp/i.test(o)}),language:(navigator.browserLanguage||navigator.language).toLowerCase()})),window.BiliJsBridge||(window.BiliJsBridge={sendTasks:[],callbacks:[],biliInject:null,selfCallbackId:1,inited:!1,newVersion:!1});var l={callNative:function(e){if((e=e||{}).data=e.data||{},!e.method)throw new Error("no method");window.BiliJsBridge.inited?window.BiliJsBridge.newVersion&&f(e):window.BiliJsBridge.sendTasks.push(e)}};function p(){return window.biliInject||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.biliInject}function d(){return new Promise(function(e,t){if(p())t();else if(window.selfBrowser.version.ios)var n=setInterval(function(){p()&&(t(),clearInterval(n))},1e3);else setTimeout(function(){p()&&t()},2e3)}).catch(function(){window.BiliJsBridge.biliInject=p(),window.BiliJsBridge.newVersion=!0,window.BiliJsBridge.inited=!0,window.BiliJsBridge.sendTasks.forEach(function(e){f(e)}),window.BiliJsBridge.sendTasks=[]})}var h={initEnv:function(){d()},biliBridge:l,isSupport:function(e){return new Promise(function(t,n){l.callNative({method:"global.getAllSupport",callback:function(n){n.indexOf(e)>=0?t(!0):t(!1)}})})},isNewJsBridge:p,inBiliApp:"undefined"!=typeof window&&window.selfBrowser.version.BiliApp},v=h.initEnv,g=h.biliBridge,m=h.isSupport,y=h.isNewJsBridge,w=h.inBiliApp;e.default=h,e.initEnv=v,e.biliBridge=g,e.isSupport=m,e.isNewJsBridge=y,e.inBiliApp=w,Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&void 0!==e?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}).call(this,n(30))},function(e,t,n){var r=n(15),i=n(34);e.exports=n(11)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(3),i=n(8),o=n(16),a=n(22)("src"),s=Function.toString,c=(""+s).split("toString");n(5).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return"object"===n(e)?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(33)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(0),i=function(){var e,t=navigator.userAgent;navigator.appVersion;return{mobile:/AppleWebKit.*Mobile.*/i.test(t),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t),android:/Android/i.test(t)||/Linux/i.test(t),windowsphone:/Windows Phone/i.test(t),iPhone:/iPhone/i.test(t),iPad:/iPad/i.test(t),webApp:!/Safari/i.test(t),MicroMessenger:/MicroMessenger/i.test(t),weibo:/Weibo/i.test(t),uc:/UCBrowser/i.test(t),qq:/MQQBrowser/i.test(t),baidu:/Baidu/i.test(t),mqq:/QQ\/([\d\.]+)/i.test(t),mbaidu:/baiduboxapp/i.test(t),iqiyi:/iqiyi/i.test(t),QQLive:/QQLive/i.test(t),Safari:(e=navigator.userAgent,!(!/ OS \d/.test(e)||~e.indexOf("CriOS")||e.indexOf("Mozilla")||!/Safari\/[\d\.]+$/.test(e))),Youku:/youku/i.test(t),chrome:/CriOS/i.test(t),CMDC:/CMDC/i.test(t),xiaomiqjs:/MiuiQuickSearchBox/.test(t),baiduspider:/Baiduspider/.test(t)}}();(navigator.browserLanguage||navigator.language).toLowerCase();t.a={identify:function(){var e,t=r.a.getQueryParam("bsource")?r.a.getQueryParam("bsource").toLowerCase():"";if(t)e=t;else if(document.referrer&&/(.)*((baike.so.com)|(m.so.com)|(m.image.so.com)|(m.video.so.com)|(www.so.com)|(\.baidu.com)|(\.google.com)|(\.sm.cn)|(m.soso.com)|(www.soso.com)|(\.sogou.com)|(\.bing.com))/.test(document.referrer)){var n=document.referrer;/(.)*((baike.so.com)|(m.image.so.com)|(m.so.com)|(m.video.so.com)|(www.so.com))/.test(n)?e="seo_360":/(.)*\.baidu.com/.test(n)?e="seo_baidu":/(.)*\.google.com/.test(n)?e="seo_google":/(.)*\.sm.cn/.test(n)?e="seo_sm":/(.)*((m.soso.com)|(www.soso.com)|(\.sogou.com))/.test(n)?e="seo_sougo":/(.)*\.bing.com/.test(n)&&(e="seo_bing")}else r.a.getCookie("bsource")?e=r.a.getCookie("bsource"):i.baiduspider?e="baiduspider":i.QQLive?e="qqlive":i.mqq?e="qq":i.weibo?e="weibo":i.MicroMessenger?e="wechat":i.mbaidu?e="bdbox":i.iqiyi?e="iqiyi_video_app":i.qq?e="qqbrowser_app":i.uc?e="uc_browser_app":i.xiaomiqjs&&(e="xiaomiqjs");return e},ptype:function(){var e=r.a.getPType();if(e)return e;var t=navigator.userAgent.toLowerCase(),n="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),o="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),s="ucweb"==t.match(/ucweb/i),c="android"==t.match(/android/i),u="windows ce"==t.match(/windows ce/i),f="windows mobile"==t.match(/windows mobile/i);return n||i||o||a||s||c||u||f?2:1}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(6),i=n(49),o=n(50),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(3),i=n(5),o=n(8),a=n(9),s=n(18),c=function e(t,n,c){var u,f,l,p,d=t&e.F,h=t&e.G,v=t&e.P,g=t&e.B,m=h?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=h?i:i[n]||(i[n]={}),w=y.prototype||(y.prototype={});for(u in h&&(c=n),c)l=((f=!d&&m&&void 0!==m[u])?m:c)[u],p=g&&f?s(l,r):v&&"function"==typeof l?s(Function.call,l):l,m&&a(m,u,l,t&e.U),y[u]!=l&&o(y,u,p),v&&w[u]!=l&&(w[u]=l)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(19);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),i=n(2)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(10),i=n(3).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(57),i=n(25);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(32)("keys"),i=n(22);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(15).f,i=n(16),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(19);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(){if(!r.a.getCookie("finger"))try{var e=document.createElement("canvas"),t=e.getContext("2d"),n="i am the finger-printing in this broswer";t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="tencent",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17);var o=e.toDataURL(),a=0;for(i=0;i<o.length;i++)char=o.charCodeAt(i),a=(a<<5)-a+char,a&=a;r.a.setCookie("finger",a)}catch(e){}}},function(e,t,n){var r=n(5),i=n(3),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(21),i=n(17),o=n(9),a=n(8),s=n(12),c=n(53),u=n(28),f=n(60),l=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,v,g,m){c(n,t,h);var y,w,b,k=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",_="values"==v,S=!1,C=e.prototype,P=C[l]||C["@@iterator"]||v&&C[v],O=P||k(v),j=v?_?k("entries"):O:void 0,T="Array"==t&&C.entries||P;if(T&&(b=f(T.call(new e)))!==Object.prototype&&b.next&&(u(b,x,!0),r||"function"==typeof b[l]||a(b,l,d)),_&&P&&"values"!==P.name&&(S=!0,O=function(){return P.call(this)}),r&&!m||!p&&!S&&C[l]||a(C,l,O),s[t]=O,s[x]=d,v)if(y={values:_?O:k("values"),keys:g?O:k("keys"),entries:j},m)for(w in y)w in C||o(C,w,y[w]);else i(i.P+i.F*(p||S),t,y);return y}},function(e,t,n){var r=n(56),i=n(38);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(24),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(6),i=n(19),o=n(2)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(18),s=n(72),c=n(39),u=n(23),f=n(3),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,g=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){y.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},d=function(e){delete m[e]},"process"==n(14)(l)?r=function(e){l.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",w,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:p,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6),i=n(10),o=n(29);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(45),o=n(46),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function f(e){var n,i=t&&t.location||{},o={},a=r(e=e||i);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===a)for(n in o=new p(e,{}),u)delete o[n];else if("object"===a){for(n in e)n in u||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function l(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(!(this instanceof p))return new p(e,t,n);var a,s,u,d,h,v,g=c.slice(),m=r(t),y=this,w=0;for("object"!==m&&"string"!==m&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=f(t),a=!(s=l(e||"")).protocol&&!s.slashes,y.slashes=s.slashes||a&&t.slashes,y.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(g[3]=[/(.*)/,"pathname"]);w<g.length;w++)"function"!=typeof(d=g[w])?(u=d[0],v=d[1],u!=u?y[v]=e:"string"==typeof u?~(h=e.indexOf(u))&&("number"==typeof d[2]?(y[v]=e.slice(0,h),e=e.slice(h+d[2])):(y[v]=e.slice(h),e=e.slice(0,h))):(h=u.exec(e))&&(y[v]=h[1],e=e.slice(0,h.index)),y[v]=y[v]||a&&d[3]&&t[v]||"",d[4]&&(y[v]=y[v].toLowerCase())):e=d(e);n&&(y.query=n(y.query)),a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),i(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(d=y.auth.split(":"),y.username=d[0]||"",y.password=d[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),r[e]=t;break;case"port":r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";r[e]=t.charAt(0)!==a?a+t:t}else r[e]=t;break;default:r[e]=t}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(t="object"===r(n.query)?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},p.extractProtocol=l,p.location=f,p.qs=o,e.exports=p}).call(this,n(30))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n=[];for(var i in"string"!=typeof t&&(t="?"),e)r.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);o in r||(r[o]=a)}return r}},function(e,t,n){n(48),n(51),n(62),n(66),n(78),n(79),e.exports=n(5).Promise},function(e,t,n){"use strict";var r=n(20),i={};i[n(2)("toStringTag")]="z",i+""!="[object z]"&&n(9)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){e.exports=!n(11)&&!n(33)(function(){return 7!=Object.defineProperty(n(23)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(52)(!0);n(35)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(24),i=n(25);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(54),i=n(34),o=n(28),a={};n(8)(a,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(6),i=n(55),o=n(38),a=n(27)("IE_PROTO"),s=function(){},c=function(){var e,t=n(23)("iframe"),r=o.length;for(t.style.display="none",n(39).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(15),i=n(6),o=n(36);e.exports=n(11)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(16),i=n(26),o=n(58)(!1),a=n(27)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(26),i=n(37),o=n(59);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),f=o(a,u);if(e&&n!=n){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((e||f in c)&&c[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(24),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(16),i=n(61),o=n(27)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(25);e.exports=function(e){return Object(r(e))}},function(e,t,n){for(var r=n(63),i=n(36),o=n(9),a=n(3),s=n(8),c=n(12),u=n(2),f=u("iterator"),l=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(d),v=0;v<h.length;v++){var g,m=h[v],y=d[m],w=a[m],b=w&&w.prototype;if(b&&(b[f]||s(b,f,p),b[l]||s(b,l,m),c[m]=p,y))for(g in r)b[g]||o(b,g,r[g],!0)}},function(e,t,n){"use strict";var r=n(64),i=n(65),o=n(12),a=n(26);e.exports=n(35)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(2)("unscopables"),i=Array.prototype;void 0==i[r]&&n(8)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a,s=n(21),c=n(3),u=n(18),f=n(20),l=n(17),p=n(10),d=n(19),h=n(67),v=n(68),g=n(40),m=n(41).set,y=n(73)(),w=n(29),b=n(42),k=n(74),x=n(43),_=c.TypeError,S=c.process,C=S&&S.versions,P=C&&C.v8||"",O=c.Promise,j="process"==f(S),T=function(){},E=i=w.f,M=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(T,T)};return(j||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),B=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(i||(2==e._h&&A(e),e._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===t.promise?u(_("Promise-chain cycle")):(o=B(n))?o.call(n,c,u):c(n)):u(r)}catch(e){f&&!a&&f.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){m.call(c,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=b(function(){j?S.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=j||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},A=function(e){m.call(c,function(){var t;j?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},q=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},N=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(n=B(t))?y(function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(q,i,1))}catch(e){q.call(i,e)}}):(r._v=t,r._s=1,I(r,!1))}catch(e){q.call({_w:r,_d:!1},e)}}};M||(O=function(e){h(this,O,"Promise","_h"),d(e),r.call(this);try{e(u(N,this,1),u(q,this,1))}catch(e){q.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(75)(O.prototype,{then:function(e,t){var n=E(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(N,e,1),this.reject=u(q,e,1)},w.f=E=function(e){return e===O||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!M,{Promise:O}),n(28)(O,"Promise"),n(76)("Promise"),a=n(5).Promise,l(l.S+l.F*!M,"Promise",{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!M),"Promise",{resolve:function(e){return x(s&&this===a?O:this,e)}}),l(l.S+l.F*!(M&&n(77)(function(e){O.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=E(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=E(t),r=n.reject,i=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(18),i=n(69),o=n(70),a=n(6),s=n(37),c=n(71),u={},f={};(t=e.exports=function(e,t,n,l,p){var d,h,v,g,m=p?function(){return e}:c(e),y=r(n,l,t?2:1),w=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(d=s(e.length);d>w;w++)if((g=t?y(a(h=e[w])[0],h[1]):y(e[w]))===u||g===f)return g}else for(v=m.call(e);!(h=v.next()).done;)if((g=i(v,y,h.value,t))===u||g===f)return g}).BREAK=u,t.RETURN=f},function(e,t,n){var r=n(6);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(12),i=n(2)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(20),i=n(2)("iterator"),o=n(12);e.exports=n(5).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(3),i=n(41).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(14)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(3).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(9);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(3),i=n(15),o=n(11),a=n(2)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(17),i=n(5),o=n(3),a=n(40),s=n(43);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(17),i=n(29),o=n(42);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),o=n(44),a=n.n(o);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e),this.legalContainer="report-wrap-module",this.bindEvent()}var t,n,o;return t=e,(n=[{key:"checkContainer",value:function(e){return!(!e||"string"!=typeof e)&&e.indexOf(this.legalContainer)>-1}},{key:"bindEvent",value:function(e){var t=window.document;t.addEventListener?t.addEventListener("click",this.eventCB.bind(this),!1):t.attachEvent("onclick",this.eventCB.bind(this))}},{key:"eventCB",value:function(e){var t=i.a.spmPrefix+".",n=(e=e||window.event).target||e.srcElement;3===n.nodeType&&(n=n.parentNode);for(var o=n,s=!1,c=null,u="";o.parentNode&&!this.checkContainer(o.className);){"a"!==o.tagName.toLowerCase()||s||(s=!0,c=o,u=encodeURIComponent(c.getAttribute("href"))),o=o.parentNode}if(9!==o.nodeType&&(o.parentNode||this.checkContainer(o.className))&&s){for(var f=-1,l=o.getElementsByTagName("a"),p=0,d=l.length;p<d;p++)if(l[p].isEqualNode&&l[p].isEqualNode(c)){f=p+1;break}var h=null===o.id?"navigationbar":""===o.id?"1000":o.id,v=t+h+"."+f,g=t+r.a.hexEncode(h)+"."+f;this.todo(n.id,u,e.screenX,e.screenY,v);var m=decodeURIComponent(u),y=new a.a(m);if(o.id&&"null"!==m&&y.hostname&&0!==m.indexOf("#")&&location.href!==y.href){var w=r.a.addQueryParam(m,"spm_id_from",g);c.setAttribute("href",w)}}}},{key:"todo",value:function(e,t,n,r,o){var a={};a.screenx=n,a.screeny=r,a.timestamp=Date.parse(new Date),a.spm_id=o,a.target_url=t,a.msg=JSON.stringify({id:e}),i.a.receiveMsg({type:"click",obj:a})}}])&&s(t.prototype,n),o&&s(t,o),e}(),u=n(31),f=n(4);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e),Object(u.a)();var n=this,i=r.a.getCookie("_uuid");this.loadType=t?1:0,i&&"null"!==i?this._uuid=i:(this._uuid=this.generateUuid(),r.a.setCookie("_uuid",this._uuid,31536e3,"https://s1.hdslb.com/bfs/seed/pre/jinkela/short/report-native/.bilibili.com")),r.a.getCookie("buvid3")?this.sendPV():this.getBuvid(function(){n.sendPV()})}var t,n,o;return t=e,(n=[{key:"getBuvid",value:function(e){var t,n={mid:r.a.getCookie("DedeUserID"),fts:r.a.getCookie("fts"),url:encodeURIComponent(window.location.href),proid:3,ptype:2,module:"game",title:document.title,ajaxtag:"",ajaxid:"",page_ref:document.referrer?encodeURIComponent(document.referrer):""},i="";for(var o in n)i+=o+"="+n[o]+"&";i=i.substring(0,i.length-1),t=location.href.indexOf("bilihttps")>-1?"https://data.bilibili.com/v/web/web_page_view":"//data.bilibili.com/v/web/web_page_view",f.a.sendGetRequest(t,i,function(){e()})}},{key:"generateUuid",value:function(){var e=this.generateUuidPart(8),t=this.generateUuidPart(4),n=this.generateUuidPart(4),r=this.generateUuidPart(4),i=this.generateUuidPart(12),o=(new Date).getTime();return e+"-"+t+"-"+n+"-"+r+"-"+i+this.formatNum((o%1e5).toString(),5)+"infoc"}},{key:"generateUuidPart",value:function(e){for(var t="",n=0;n<e;n++)t+=parseInt(16*Math.random()).toString(16).toUpperCase();return this.formatNum(t,e)}},{key:"formatNum",value:function(e,t){var n="";if(e.length<t)for(var r=0;r<t-e.length;r++)n+="0";return n+e}},{key:"sendPV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.todo(e,t)}},{key:"todo",value:function(e,t){var n={};if(localStorage&&localStorage.index_user_setting){var r=JSON.parse(localStorage.index_user_setting).sort;n.msg=JSON.stringify({sort:r})}else window.bsource&&(n.msg=window.bsource);e&&(n.refer_url=e),t&&(n.msg=t),n._uuid=this._uuid,n.loadType=this.loadType,n.url=encodeURIComponent(window.location.href);var o={type:"pv",obj:n};i.a.receiveMsg(o)}}])&&l(t.prototype,n),o&&l(t,o),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e),this.interval=t,this.timer=null,this.pool=n,this.freq=r,this.startTimer()}var t,n,r;return t=e,(n=[{key:"startTimer",value:function(){var e=this,t=this,n=0;this.timer=setInterval(function(){n++,t.pool.stopCheck||n%t.freq==0&&e.pool.checkRequests.call(e.pool)},this.interval)}}])&&d(t.prototype,n),r&&d(t,r),e}(),v=n(13);function g(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var w=function(){function e(t){g(this,e);this.init(t)}return y(e,[{key:"init",value:function(e){var t=e.sample;Math.random()>t||(this.initBsource(),this.initTracker(e),this.timer=new h(1e3,i.a,1),window.addEventListener("beforeunload",function(e){i.a.sendUnloadEvent()}))}},{key:"initBsource",value:function(){v.a.identify()&&(window.bsource=v.a.identify(),r.a.setCookie("bsource",window.bsource,300,"https://s1.hdslb.com/bfs/seed/pre/jinkela/short/report-native/.bilibili.com"))}},{key:"initTracker",value:function(e){var t=this;e.cancelLoadTracker||n.e(1).then(function(e){var r=n(81).default;t.loadTracker=new r}.bind(null,n)).catch(n.oe),e.scrollTracker&&n.e(2).then(function(r){var i=n(82).default;t.scrollTracker=new i(e.scrollIgnoreHidden,e.scrollReportOffset),"function"==typeof window.onScrollTrackerLoaded&&window.onScrollTrackerLoaded()}.bind(null,n)).catch(n.oe),e.errorTracker&&n.e(3).then(function(r){var o=n(83).default;t.errorTracker=new o(e.ignoredErrorPattern),i.a.setSupportTryCatch(t.errorTracker)}.bind(null,n)).catch(n.oe),e.misakaTracker&&n.e(4).then(function(e){var r=n(84).default;t.misakaTracker=new r}.bind(null,n)).catch(n.oe),e.disableCdnTracker||n.e(5).then(function(e){var r=n(85).default;t.cdnTracker=new r}.bind(null,n)).catch(n.oe),e.supportH5&&n.e(6).then(function(e){var r=n(86).default;t.h5Supporter=new r,i.a.setSupportH5(t.h5Supporter)}.bind(null,n)).catch(n.oe),e.hasAbtest&&n.e(7).then(function(r){var i=n(87).default;t.abtestTracker=new i(e.abtestPlatform)}.bind(null,n)).catch(n.oe),e.nativeOnly&&i.a.setNativeOnly(),e.searchPage&&i.a.setSearchPage(),window.performance&&window.performance.navigation&&(this.pvTracker=new p(2===window.performance.navigation.type)),e.cancelEventTracker||(this.eventTracker=new c)}},{key:"updateConfig",value:function(){i.a.updateConfig()}},{key:"setSPM_id",value:function(e){i.a.setSPM_id(e)}},{key:"reportWithAdditionalParam",value:function(e){i.a.reportWithAdditionalParam(e)}},{key:"reportWithSpmPrefix",value:function(e,t,n){i.a.reportWithSpmPrefix(e,t,n)}},{key:"sendPV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pvTracker.sendPV(e,t)}},{key:"forceCommit",value:function(){i.a.forceFlush()}},{key:"setSpeicalMsg",value:function(e,t){!0===i.a.supportH5&&this.h5Supporter.setSpeicalMsg(e,t)}},{key:"reportEventId",value:function(e,t){i.a.reportEventId(e,t)}}]),e}(),b=function(){function e(){g(this,e),this.pvTracker=new p,this.timer=new h(1e3,i.a,1)}return y(e,[{key:"sendPV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pvTracker.sendPV(e,t)}},{key:"reportWithSpmPrefix",value:function(e,t,n){i.a.reportWithSpmPrefix(e,t,n)}},{key:"updateConfig",value:function(){}},{key:"setSPM_id",value:function(){}},{key:"reportWithAdditionalParam",value:function(){}},{key:"forceCommit",value:function(){}},{key:"setSpeicalMsg",value:function(){}},{key:"reportEventId",value:function(){}}]),e}();n(47);Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"performance"in window&&window.performance&&window.performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(300),function(){document.getElementsByTagName("meta");var e=r.a.getSpmPrefix();if(!window.reportObserver)if(window.reportConfig&&e){if(window.reportConfig.msgObjects)window.reportConfig.msgObjects.split("|").forEach(function(e){window[e]&&i.a.transporter(window[e])});var t=new w(window.reportConfig);window.reportObserver=t}else{var n=new b;window.reportObserver=n}}()}]);